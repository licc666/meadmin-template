import{g as S,S as v,a6 as R,B as l,v as p,o as L,c as m,a as n,t as c,A as h}from"./core-d086e217.js";import{aA as _,aB as x}from"./index-391c66f0.js";var d={exports:{}};d.exports=y;d.exports.default=y;function y(e){if(e=e||{},e.negativeType=e.negativeType||(e.negative==="R"?"right":"left"),typeof e.negativeLeftSymbol!="string")switch(e.negativeType){case"left":e.negativeLeftSymbol="-";break;case"brackets":e.negativeLeftSymbol="(";break;default:e.negativeLeftSymbol=""}if(typeof e.negativeRightSymbol!="string")switch(e.negativeType){case"right":e.negativeRightSymbol="-";break;case"brackets":e.negativeRightSymbol=")";break;default:e.negativeRightSymbol=""}typeof e.negativeLeftOut!="boolean"&&(e.negativeLeftOut=e.negativeOut!==!1),typeof e.negativeRightOut!="boolean"&&(e.negativeRightOut=e.negativeOut!==!1),e.prefix=e.prefix||"",e.suffix=e.suffix||"",typeof e.integerSeparator!="string"&&(e.integerSeparator=typeof e.separator=="string"?e.separator:","),e.decimalsSeparator=typeof e.decimalsSeparator=="string"?e.decimalsSeparator:"",e.decimal=e.decimal||".",e.padLeft=e.padLeft||-1,e.padRight=e.padRight||-1;function t(a,f){if(f=f||{},a||a===0)a=""+a;else return"";var i=[],u=a.charAt(0)==="-";return a=a.replace(/^\-/g,""),!e.negativeLeftOut&&!f.noUnits&&i.push(e.prefix),u&&i.push(e.negativeLeftSymbol),e.negativeLeftOut&&!f.noUnits&&i.push(e.prefix),a=a.split("."),e.round!=null&&w(a,e.round),e.truncate!=null&&(a[1]=T(a[1],e.truncate)),e.padLeft>0&&(a[0]=b(a[0],e.padLeft)),e.padRight>0&&(a[1]=k(a[1],e.padRight)),!f.noSeparator&&a[1]&&(a[1]=N(a[1],e.decimalsSeparator)),!f.noSeparator&&a[0]&&(a[0]=O(a[0],e.integerSeparator)),i.push(a[0]),a[1]&&(i.push(e.decimal),i.push(a[1])),e.negativeRightOut&&!f.noUnits&&i.push(e.suffix),u&&i.push(e.negativeRightSymbol),!e.negativeRightOut&&!f.noUnits&&i.push(e.suffix),i.join("")}t.negative=e.negative,t.negativeOut=e.negativeOut,t.negativeType=e.negativeType,t.negativeLeftOut=e.negativeLeftOut,t.negativeLeftSymbol=e.negativeLeftSymbol,t.negativeRightOut=e.negativeRightOut,t.negativeRightSymbol=e.negativeRightSymbol,t.prefix=e.prefix,t.suffix=e.suffix,t.separate=e.separate,t.integerSeparator=e.integerSeparator,t.decimalsSeparator=e.decimalsSeparator,t.decimal=e.decimal,t.padLeft=e.padLeft,t.padRight=e.padRight,t.truncate=e.truncate,t.round=e.round;function r(a,f){f=f||[],e.allowedSeparators&&e.allowedSeparators.forEach(function(g){f.push(g)}),f.push(e.integerSeparator),f.push(e.decimalsSeparator),a=a.replace(e.prefix,""),a=a.replace(e.suffix,"");var i=a;do{a=i;for(var u=0;u<f.length;u++)i=i.replace(f[u],"")}while(i!=a);return a}return t.unformat=r,t}function O(e,t){if(e+="",!t)return e;for(var r=/(\d+)(\d{3})/;r.test(e);)e=e.replace(r,"$1"+t+"$2");return e}function N(e,t){if(e+="",!t)return e;for(var r=/(\d{3})(\d+)/;r.test(e);)e=e.replace(r,"$1"+t+"$2");return e}function b(e,t){e=e+"";for(var r=[];r.length+e.length<t;)r.push("0");return r.join("")+e}function k(e,t){e?e+="":e="";for(var r=[];r.length+e.length<t;)r.push("0");return e+r.join("")}function T(e,t){return e&&(e+=""),e&&e.length>t?e.substr(0,t):e}function w(e,t){if(e[1]&&t>=0&&e[1].length>t){var r=e[1].slice(0,t);if(+e[1].substr(t,1)>=5){for(var a="";r.charAt(0)==="0";)a=a+"0",r=r.substr(1);r=+r+1+"",r=a+r,r.length>t&&(e[0]=+e[0]+ +r.charAt(0)+"",r=r.substring(1))}e[1]=r}return e}var A=d.exports;const B=S(A),j={class:"prefix"},E={class:"output"},F={class:"suffix"},$=v({setup:!0}),I=v({...$,__name:"meNumber",props:{start:{type:Number,default:0},end:[Number,Array],delay:{type:Number,default:0},disabled:{type:Boolean,default:!1},duration:{type:Number,default:1e3},transition:{type:[Function,String],default:"easeOutExpo"},format:{type:Function,default:(e,t)=>B({truncate:t,padRight:t})(e)}},emits:["finished","started"],setup(e,{emit:t}){const r=e,a=R({number:r.start,prefix:"",suffix:"",decimals:0}),f=_(l(()=>a.number),{delay:l(()=>r.delay),disabled:l(()=>r.disabled),duration:l(()=>r.duration),onFinished:()=>t("finished"),onStarted:()=>t("started"),transition:l(()=>typeof r.transition=="string"?x[r.transition]:r.transition)}),i=u=>{var g,s;return typeof u=="number"?{prefix:"",number:u,suffix:"",decimals:((g=(u+"").split(".")[1])==null?void 0:g.length)??0}:{prefix:u[1]??"",number:u[0],suffix:u[2]??"",decimals:((s=(u[0]+"").split(".")[1])==null?void 0:s.length)??0}};return p(()=>r.end,u=>Object.assign(a,i(u??r.start)),{immediate:!0,deep:!0}),(u,g)=>(L(),m("span",null,[n("span",j,c(h(a).prefix),1),n("span",E,c(e.format(h(f),h(a).decimals)),1),n("span",F,c(h(a).suffix),1)]))}});export{I as _};
