import{e as ue,av as ce,ac as z,g as fe,h as _e,aD as ge,E as ye,Z as ve,k as Ee,w as be,a as Ve,p as M,q as Y,am as Te}from"./index-391c66f0.js";import{_ as F}from"./index-094af656.js";import{_ as H}from"./meSearchForm-507ee81b.js";import{L as ke,l as Be,d as Se,b as L,a as J}from"./add-5cade6c2.js";import"./mock-d5a52175.js";import{E as Q}from"./index-61c50de1.js";import{a as W}from"./index-32c476c1.js";import{E as Z,a as G}from"./index-c2d633e6.js";import{E as K}from"./index-18c42c29.js";import{E as X}from"./index-7862302d.js";import{E as ee}from"./index-7af6ec97.js";import{e as O,E as $}from"./index-bb6527ef.js";import{B as xe}from"./elIcon-e456a308.js";import{S as P,r as C,B as h,o as _,_ as V,w as i,a as A,V as x,A as e,W as Ce,ac as we,$ as R,j as v,t as w,k as t,T as $e,U as Pe,a6 as Ie,i as E,c as q,J as Ue,aw as De,M as he}from"./core-d086e217.js";import"./pagination-f5b554ba.js";import"./vue.runtime.esm-bundler-36fda889.js";import"./index-7be35ccf.js";import"./index-589bce5d.js";import"./event-9519ab40.js";import"./flatten-d075e74e.js";import"./identity-46f208ab.js";import"./index-8a321c97.js";import"./index-4d99d7b2.js";import"./dropdown-68e52a79.js";import"./index-91fc2f4c.js";import"./index-96f15593.js";import"./index-27e5bc6b.js";import"./scroll-62c8a58b.js";import"./refs-ae9aa695.js";import"./index-8842122b.js";import"./validator-7045813a.js";import"./index-a03c24b9.js";const Ae=ue({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:O,default:"primary"},cancelButtonType:{type:String,values:O,default:"text"},icon:{type:ce,default:()=>xe},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:z.teleported,persistent:z.persistent,width:{type:[String,Number],default:150}}),je={confirm:d=>d instanceof MouseEvent,cancel:d=>d instanceof MouseEvent},Ne=P({name:"ElPopconfirm"}),ze=P({...Ne,props:Ae,emits:je,setup(d,{emit:r}){const l=d,{t:T}=fe(),u=_e("popconfirm"),k=C(),p=()=>{var n,y;(y=(n=k.value)==null?void 0:n.onClose)==null||y.call(n)},I=h(()=>({width:ge(l.width)})),U=n=>{r("confirm",n),p()},B=n=>{r("cancel",n),p()},D=h(()=>l.confirmButtonText||T("el.popconfirm.confirmButtonText")),g=h(()=>l.cancelButtonText||T("el.popconfirm.cancelButtonText"));return(n,y)=>(_(),V(e(ve),Pe({ref_key:"tooltipRef",ref:k,trigger:"click",effect:"light"},n.$attrs,{"popper-class":`${e(u).namespace.value}-popover`,"popper-style":e(I),teleported:n.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":n.hideAfter,persistent:n.persistent}),{content:i(()=>[A("div",{class:x(e(u).b())},[A("div",{class:x(e(u).e("main"))},[!n.hideIcon&&n.icon?(_(),V(e(ye),{key:0,class:x(e(u).e("icon")),style:Ce({color:n.iconColor})},{default:i(()=>[(_(),V(we(n.icon)))]),_:1},8,["class","style"])):R("v-if",!0),v(" "+w(n.title),1)],2),A("div",{class:x(e(u).e("action"))},[t(e($),{size:"small",type:n.cancelButtonType==="text"?"":n.cancelButtonType,text:n.cancelButtonType==="text",onClick:B},{default:i(()=>[v(w(e(g)),1)]),_:1},8,["type","text"]),t(e($),{size:"small",type:n.confirmButtonType==="text"?"":n.confirmButtonType,text:n.confirmButtonType==="text",onClick:U},{default:i(()=>[v(w(e(D)),1)]),_:1},8,["type","text"])],2)],2)]),default:i(()=>[n.$slots.reference?$e(n.$slots,"reference",{key:0}):R("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var Le=Ee(ze,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popconfirm/src/popconfirm.vue"]]);const te=be(Le),Oe={class:"demo"},Re=P({setup:!0,name:"Demo",langImport:[d=>M(Object.assign({"./lang/en.json":()=>Y(()=>import("./en-abc0e7de.js"),[])}),`./lang/${d}.json`),"demo"],getComponents:()=>[Q,W,Z,G,K,X,H,ee,E("vxe-column"),E("mel-icon-edit"),$,E("mel-icon-delete"),te,F,J]}),bt=P({...Re,__name:"demo",setup(d){let{t:r}=Ve({},[m=>M(Object.assign({"./lang/en.json":()=>Y(()=>import("./en-abc0e7de.js"),[])}),`./lang/${m}.json`),"demo"]);const l=Ie(new ke),{loading:T,data:u,runAsync:k}=Be(),p=(m=l.page,o=l.size)=>k(Object.assign(l,{page:m,size:o}));p(1);const{runAsync:I,loading:U}=Se(),B=C(),D=async m=>{B.value=m,await I(m),p(1)},g=C(!1),n=C(),y=m=>{n.value=Te(m),g.value=!0};return(m,o)=>{const oe=Q,f=W,ne=Z,le=G,S=K,ae=X,ie=H,j=ee,c=E("vxe-column"),re=E("mel-icon-edit"),N=$,se=E("mel-icon-delete"),pe=te,me=F;return _(),q("div",Oe,[t(j,null,{default:i(()=>[t(ie,{model:e(l),"default-all":!0,class:"search-form",onSearch:o[7]||(o[7]=a=>p(1))},{default:i(()=>[t(f,{label:e(r)("姓名"),prop:"name"},{default:i(()=>[t(oe,{modelValue:e(l).name,"onUpdate:modelValue":o[0]||(o[0]=a=>e(l).name=a)},null,8,["modelValue"])]),_:1},8,["label"]),t(f,{label:e(r)("类型"),prop:"type"},{default:i(()=>[t(le,{modelValue:e(l).type,"onUpdate:modelValue":o[1]||(o[1]=a=>e(l).type=a)},{default:i(()=>[(_(!0),q(Ue,null,De(e(L),(a,b)=>(_(),V(ne,{key:b,value:b,label:a},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(f,{label:e(r)("价格"),prop:"priceStart"},{default:i(()=>[t(S,{modelValue:e(l).priceStart,"onUpdate:modelValue":o[2]||(o[2]=a=>e(l).priceStart=a),min:0,precision:2},null,8,["modelValue"]),v("   -  "),t(f,{prop:"priceEnd"},{default:i(()=>[t(S,{modelValue:e(l).priceEnd,"onUpdate:modelValue":o[3]||(o[3]=a=>e(l).priceEnd=a),min:0,precision:2},null,8,["modelValue"])]),_:1})]),_:1},8,["label"]),t(f,{label:e(r)("章节"),prop:"sectionStart"},{default:i(()=>[t(S,{modelValue:e(l).sectionStart,"onUpdate:modelValue":o[4]||(o[4]=a=>e(l).sectionStart=a),min:0,precision:0},null,8,["modelValue"]),v("   -  "),t(f,{prop:"sectionEnd"},{default:i(()=>[t(S,{modelValue:e(l).sectionEnd,"onUpdate:modelValue":o[5]||(o[5]=a=>e(l).sectionEnd=a),min:0,precision:0},null,8,["modelValue"])]),_:1})]),_:1},8,["label"]),t(f,{label:e(r)("创建时间"),prop:"createTime"},{default:i(()=>[t(ae,{modelValue:e(l).createTime,"onUpdate:modelValue":o[6]||(o[6]=a=>e(l).createTime=a),type:"daterange","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1}),t(j,{style:{"margin-top":"10px"}},{default:i(()=>{var a,b;return[t(me,{"quick-search":e(l).name,"onUpdate:quickSearch":o[8]||(o[8]=s=>e(l).name=s),loading:e(T),data:(a=e(u))==null?void 0:a.list,"pagination-options":{currentPage:e(l).page,pageSize:e(l).size,total:((b=e(u))==null?void 0:b.total)??0,layout:"sizes, prev, pager, next, jumper, ->, total",change:p},align:"center",border:"",onRefresh:o[9]||(o[9]=s=>p(1)),onAdd:o[10]||(o[10]=s=>y()),onQuickSearch:o[11]||(o[11]=s=>p(1))},{default:i(()=>[t(c,{field:"id",title:e(r)("ID"),"min-width":"100px"},null,8,["title"]),t(c,{field:"name",title:e(r)("姓名"),"min-width":"100px"},null,8,["title"]),t(c,{field:"bookName",title:e(r)("书名"),"min-width":"150px"},null,8,["title"]),t(c,{field:"type",title:e(r)("类型"),"min-width":"150px"},{default:i(({row:s})=>[v(w(e(L)[s.type]),1)]),_:1},8,["title"]),t(c,{field:"price",title:e(r)("价格"),"min-width":"100px"},null,8,["title"]),t(c,{field:"section",title:e(r)("章节"),"min-width":"100px"},null,8,["title"]),t(c,{field:"createTime",title:e(r)("创建时间"),"min-width":"150px"},null,8,["title"]),t(c,{title:e(r)("操作"),fixed:"right","min-width":"150px"},{default:i(({row:s})=>[t(N,{onClick:de=>y(s)},{default:i(()=>[t(re)]),_:2},1032,["onClick"]),t(pe,{title:e(r)("确认删除？"),placement:"left",onConfirm:de=>D(s.id)},{reference:i(()=>[(_(),V(N,{key:s.id,loading:e(U)&&e(B)===s.id,type:"danger"},{default:i(()=>[t(se)]),_:2},1032,["loading"]))]),_:2},1032,["title","onConfirm"])]),_:1},8,["title"])]),_:1},8,["quick-search","loading","data","pagination-options"])]}),_:1}),t(J,{modelValue:e(g),"onUpdate:modelValue":o[12]||(o[12]=a=>he(g)?g.value=a:null),data:e(n),onSuccess:o[13]||(o[13]=a=>p(e(n)?e(l).page:1))},null,8,["modelValue","data"])])}}});export{bt as default};
