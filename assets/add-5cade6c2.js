import{aG as a,ab as p,a as z,p as N,q as S,_ as G}from"./index-391c66f0.js";import{_ as h}from"./index-91fc2f4c.js";import"./mock-d5a52175.js";import{E as w}from"./index-61c50de1.js";import{a as O,E as P}from"./index-32c476c1.js";import{E as T,a as q}from"./index-c2d633e6.js";import{E as L}from"./index-18c42c29.js";import{E as x}from"./index-bb6527ef.js";import{S as U,r as g,v as H,o as b,_ as k,w as u,k as i,A as e,j,t as A,c as J,J as M,aw as K}from"./core-d086e217.js";class Q{constructor(){a(this,"page",1),a(this,"size",10)}}class I{constructor(){a(this,"id",void 0),a(this,"name",""),a(this,"type","1"),a(this,"bookName",""),a(this,"price",0),a(this,"section",0),a(this,"createTime",void 0)}}class me extends Q{constructor(...r){super(...r),a(this,"name",""),a(this,"type",void 0),a(this,"bookName",""),a(this,"priceStart",void 0),a(this,"priceEnd",void 0),a(this,"sectionStart",void 0),a(this,"sectionEnd",void 0),a(this,"createTime",void 0)}}function pe(s={noLoading:!0}){return p(r=>({url:"demo",method:"get",params:r}),s)}function W(s=!0){return p(r=>({url:"demo",method:"post",data:r}),{noLoading:s})}function X(s=!0){return p((r,c)=>({url:"demo/{id}".replace("{id}",String(r)),method:"put",data:c}),{noLoading:s})}function ce(s=!0){return p(r=>({url:"demo/{id}".replace("{id}",String(r)),method:"delete"}),{noLoading:s})}const Y={1:"纸质",2:"电脑",3:"手机",4:"电纸书"},Z=U({setup:!0,name:"Add",langImport:[s=>N(Object.assign({"../lang/en.json":()=>S(()=>import("./en-abc0e7de.js"),[])}),`../lang/${s}.json`),"demo"],getComponents:()=>[w,O,T,q,L,P,x,h]}),ee=U({...Z,__name:"add",props:{data:{},modelValue:{type:Boolean}},emits:["update:modelValue","success"],setup(s,{emit:r}){const c=s;let{t}=z({},[d=>N(Object.assign({"../lang/en.json":()=>S(()=>import("./en-abc0e7de.js"),[])}),`../lang/${d}.json`),"demo"]);const l=g(new I);H(()=>c.data,d=>{l.value=d??new I},{immediate:!0});const B={name:{required:!0,message:t("请填写")+t("姓名"),trigger:"blur"},bookName:{required:!0,message:t("请填写")+t("书名"),trigger:"blur"},type:{required:!0,message:t("请选择")+t("类型"),trigger:"blur"},price:{required:!0,message:t("请填写")+t("价格"),trigger:"blur"},section:{required:!0,message:t("请填写")+t("章节"),trigger:"blur"}},_=g(),f=g(!1),C=async()=>{f.value=!0,_.value.validate(async(d,o)=>{d?(l.value.id?await X().runAsync(l.value.id,l.value):await W().runAsync(l.value),r("update:modelValue",!1),r("success")):_.value.scrollToField(Object.keys(o)[0]),f.value=!1})};return(d,o)=>{const v=w,m=O,$=T,D=q,V=L,F=P,y=x,R=h;return b(),k(R,{title:e(t)(e(l).id?"编辑":"新增"),"model-value":d.modelValue,"close-on-click-modal":!1,class:"add-dialog","onUpdate:modelValue":o[7]||(o[7]=n=>r("update:modelValue",n))},{footer:u(()=>[i(y,{type:"primary",loading:e(f),onClick:o[5]||(o[5]=n=>C())},{default:u(()=>[j(A(e(t)("提交")),1)]),_:1},8,["loading"]),i(y,{onClick:o[6]||(o[6]=n=>r("update:modelValue",!1))},{default:u(()=>[j(A(e(t)("取消")),1)]),_:1})]),default:u(()=>[i(F,{ref_key:"formEl",ref:_,model:e(l),rules:B,class:"add"},{default:u(()=>[i(m,{label:e(t)("姓名"),prop:"name"},{default:u(()=>[i(v,{modelValue:e(l).name,"onUpdate:modelValue":o[0]||(o[0]=n=>e(l).name=n)},null,8,["modelValue"])]),_:1},8,["label"]),i(m,{label:e(t)("书名"),prop:"bookName"},{default:u(()=>[i(v,{modelValue:e(l).bookName,"onUpdate:modelValue":o[1]||(o[1]=n=>e(l).bookName=n)},null,8,["modelValue"])]),_:1},8,["label"]),i(m,{label:e(t)("类型"),prop:"type"},{default:u(()=>[i(D,{modelValue:e(l).type,"onUpdate:modelValue":o[2]||(o[2]=n=>e(l).type=n)},{default:u(()=>[(b(!0),J(M,null,K(e(Y),(n,E)=>(b(),k($,{key:E,value:E,label:n},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),i(m,{label:e(t)("价格"),prop:"price"},{default:u(()=>[i(V,{modelValue:e(l).price,"onUpdate:modelValue":o[3]||(o[3]=n=>e(l).price=n),min:0,precision:2},null,8,["modelValue"])]),_:1},8,["label"]),i(m,{label:e(t)("章节"),prop:"section"},{default:u(()=>[i(V,{modelValue:e(l).section,"onUpdate:modelValue":o[4]||(o[4]=n=>e(l).section=n),min:0,precision:0},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["title","model-value"])}}});const te=G(ee,[["__scopeId","data-v-a665b199"]]),_e=Object.freeze(Object.defineProperty({__proto__:null,default:te},Symbol.toStringTag,{value:"Module"}));export{me as L,te as a,Y as b,_e as c,ce as d,pe as l};
