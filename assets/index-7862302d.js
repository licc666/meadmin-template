import{V as q}from"./mock-d5a52175.js";import{d as Ze,g as Xe,aP as xt,D as Me,S as Ve,aG as Tt,L as Ge,r as Z,B as R,v as Ie,s as Ye,A as e,R as wt,o as _,_ as we,w as oe,V as h,W as It,ad as We,ac as ft,$ as ve,c as z,a as K,T as it,t as fe,U as Wt,q as fa,J as ke,aw as _e,j as qe,X as Ne,k as W,a2 as pa,az as ot,aH as zt,a0 as rt,a1 as lt,O as Dt,n as Kt,a6 as va}from"./core-d086e217.js";import{aq as Ut,e as Pe,f as ce,a4 as ma,g as ze,h as Te,ak as Yt,ad as ha,E as he,Z as ya,k as Ke,l as ge,X as ba,aE as ga,a6 as ka,a1 as Ht,aF as wa}from"./index-391c66f0.js";import{a as Da,q as Sa,C as Ca,p as Ma,e as Pa,D as ct,k as St,f as mt,E as dt}from"./elIcon-e456a308.js";import{c as _a,u as $a,E as yt}from"./index-bb6527ef.js";import{E as Qe}from"./index-61c50de1.js";import{f as Ta}from"./flatten-d075e74e.js";import{E as Va}from"./index-8a321c97.js";import{v as Rt}from"./index-a03c24b9.js";import{C as Ct}from"./index-8842122b.js";import{i as Oa}from"./index-c2d633e6.js";const xa=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],Cl=o=>[...new Set(o)],et=o=>!o&&o!==0?[]:Array.isArray(o)?o:[o];var jt={exports:{}};(function(o,u){(function(n,a){o.exports=a()})(Ze,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,p=/\d\d/,m=/\d\d?/,b=/\d*[^-_:/,()\s\d]+/,w={},g=function(s){return(s=+s)+(s>68?1900:2e3)},C=function(s){return function(v){this[s]=+v}},O=[/[+-]\d\d:?(\d\d)?|Z/,function(s){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var x=v.match(/([+-]|\d\d)/g),M=60*x[1]+(+x[2]||0);return M===0?0:x[0]==="+"?-M:M}(s)}],D=function(s){var v=w[s];return v&&(v.indexOf?v:v.s.concat(v.f))},y=function(s,v){var x,M=w.meridiem;if(M){for(var f=1;f<=24;f+=1)if(s.indexOf(M(f,0,v))>-1){x=f>12;break}}else x=s===(v?"pm":"PM");return x},i={A:[b,function(s){this.afternoon=y(s,!1)}],a:[b,function(s){this.afternoon=y(s,!0)}],S:[/\d/,function(s){this.milliseconds=100*+s}],SS:[p,function(s){this.milliseconds=10*+s}],SSS:[/\d{3}/,function(s){this.milliseconds=+s}],s:[m,C("seconds")],ss:[m,C("seconds")],m:[m,C("minutes")],mm:[m,C("minutes")],H:[m,C("hours")],h:[m,C("hours")],HH:[m,C("hours")],hh:[m,C("hours")],D:[m,C("day")],DD:[p,C("day")],Do:[b,function(s){var v=w.ordinal,x=s.match(/\d+/);if(this.day=x[0],v)for(var M=1;M<=31;M+=1)v(M).replace(/\[|\]/g,"")===s&&(this.day=M)}],M:[m,C("month")],MM:[p,C("month")],MMM:[b,function(s){var v=D("months"),x=(D("monthsShort")||v.map(function(M){return M.slice(0,3)})).indexOf(s)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[b,function(s){var v=D("months").indexOf(s)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,C("year")],YY:[p,function(s){this.year=g(s)}],YYYY:[/\d{4}/,C("year")],Z:O,ZZ:O};function d(s){var v,x;v=s,x=w&&w.formats;for(var M=(s=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(X,j,Q){var re=Q&&Q.toUpperCase();return j||x[Q]||n[Q]||x[re].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(U,ae,me){return ae||me.slice(1)})})).match(a),f=M.length,P=0;P<f;P+=1){var L=M[P],F=i[L],G=F&&F[0],V=F&&F[1];M[P]=V?{regex:G,parser:V}:L.replace(/^\[|\]$/g,"")}return function(X){for(var j={},Q=0,re=0;Q<f;Q+=1){var U=M[Q];if(typeof U=="string")re+=U.length;else{var ae=U.regex,me=U.parser,ye=X.slice(re),H=ae.exec(ye)[0];me.call(j,H),X=X.replace(H,"")}}return function(A){var r=A.afternoon;if(r!==void 0){var k=A.hours;r?k<12&&(A.hours+=12):k===12&&(A.hours=0),delete A.afternoon}}(j),j}}return function(s,v,x){x.p.customParseFormat=!0,s&&s.parseTwoDigitYear&&(g=s.parseTwoDigitYear);var M=v.prototype,f=M.parse;M.parse=function(P){var L=P.date,F=P.utc,G=P.args;this.$u=F;var V=G[1];if(typeof V=="string"){var X=G[2]===!0,j=G[3]===!0,Q=X||j,re=G[2];j&&(re=G[2]),w=this.$locale(),!X&&re&&(w=x.Ls[re]),this.$d=function(ye,H,A){try{if(["x","X"].indexOf(H)>-1)return new Date((H==="X"?1e3:1)*ye);var r=d(H)(ye),k=r.year,E=r.month,l=r.day,S=r.hours,N=r.minutes,J=r.seconds,ee=r.milliseconds,de=r.zone,le=new Date,ue=l||(k||E?1:le.getDate()),se=k||le.getFullYear(),Se=0;k&&!E||(Se=E>0?E-1:le.getMonth());var be=S||0,$e=N||0,De=J||0,Oe=ee||0;return de?new Date(Date.UTC(se,Se,ue,be,$e,De,Oe+60*de.offset*1e3)):A?new Date(Date.UTC(se,Se,ue,be,$e,De,Oe)):new Date(se,Se,ue,be,$e,De,Oe)}catch{return new Date("")}}(L,V,F),this.init(),re&&re!==!0&&(this.$L=this.locale(re).$L),Q&&L!=this.format(V)&&(this.$d=new Date("")),w={}}else if(V instanceof Array)for(var U=V.length,ae=1;ae<=U;ae+=1){G[1]=V[ae-1];var me=x.apply(this,G);if(me.isValid()){this.$d=me.$d,this.$L=me.$L,this.init();break}ae===U&&(this.$d=new Date(""))}else f.call(this,P)}}})})(jt);var Ia=jt.exports;const Ya=Xe(Ia),At=["hours","minutes","seconds"],Et="HH:mm:ss",st="YYYY-MM-DD",Ra={date:st,dates:st,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${st} ${Et}`,monthrange:"YYYY-MM",daterange:st,datetimerange:`${st} ${Et}`},bt=(o,u)=>[o>0?o-1:void 0,o,o<u?o+1:void 0],qt=o=>Array.from(Array.from({length:o}).keys()),Gt=o=>o.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),Zt=o=>o.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),Nt=function(o,u){const n=xt(o),a=xt(u);return n&&a?o.getTime()===u.getTime():!n&&!a?o===u:!1},Ft=function(o,u){const n=Me(o),a=Me(u);return n&&a?o.length!==u.length?!1:o.every((p,m)=>Nt(p,u[m])):!n&&!a?Nt(o,u):!1},Bt=function(o,u,n){const a=Ut(u)||u==="x"?q(o).locale(n):q(o,u).locale(n);return a.isValid()?a:void 0},Lt=function(o,u,n){return Ut(u)?o:u==="x"?+o:q(o).locale(n).format(u)},gt=(o,u)=>{var n;const a=[],p=u==null?void 0:u();for(let m=0;m<o;m++)a.push((n=p==null?void 0:p.includes(m))!=null?n:!1);return a},Xt=Pe({disabledHours:{type:ce(Function)},disabledMinutes:{type:ce(Function)},disabledSeconds:{type:ce(Function)}}),Aa=Pe({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),Jt=Pe({id:{type:ce([Array,String])},name:{type:ce([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:ce([String,Object]),default:Da},editable:{type:Boolean,default:!0},prefixIcon:{type:ce([String,Object]),default:""},size:ma,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:ce(Object),default:()=>({})},modelValue:{type:ce([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:ce([Date,Array])},defaultTime:{type:ce([Date,Array])},isRange:{type:Boolean,default:!1},...Xt,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:ce([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),Ea=["id","name","placeholder","value","disabled","readonly"],Na=["id","name","placeholder","value","disabled","readonly"],Fa=Ve({name:"Picker"}),Ba=Ve({...Fa,props:Jt,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(o,{expose:u,emit:n}){const a=o,p=Tt(),{lang:m}=ze(),b=Te("date"),w=Te("input"),g=Te("range"),{form:C,formItem:O}=_a(),D=Ge("ElPopperOptions",{}),y=Z(),i=Z(),d=Z(!1),s=Z(!1),v=Z(null);let x=!1,M=!1;const f=R(()=>[b.b("editor"),b.bm("editor",a.type),w.e("wrapper"),b.is("disabled",l.value),b.is("active",d.value),g.b("editor"),Fe?g.bm("editor",Fe.value):"",p.class]),P=R(()=>[w.e("icon"),g.e("close-icon"),ue.value?"":g.e("close-icon--hidden")]);Ie(d,t=>{t?Ye(()=>{t&&(v.value=a.modelValue)}):(ne.value=null,Ye(()=>{L(a.modelValue)}))});const L=(t,$)=>{($||!Ft(t,v.value))&&(n("change",t),a.validateEvent&&(O==null||O.validate("change").catch(te=>Yt())))},F=t=>{if(!Ft(a.modelValue,t)){let $;Me(t)?$=t.map(te=>Lt(te,a.valueFormat,m.value)):t&&($=Lt(t,a.valueFormat,m.value)),n("update:modelValue",t&&$,m.value)}},G=t=>{n("keydown",t)},V=R(()=>{if(i.value){const t=xe.value?i.value:i.value.$el;return Array.from(t.querySelectorAll("input"))}return[]}),X=(t,$,te)=>{const pe=V.value;pe.length&&(!te||te==="min"?(pe[0].setSelectionRange(t,$),pe[0].focus()):te==="max"&&(pe[1].setSelectionRange(t,$),pe[1].focus()))},j=()=>{A(!0,!0),Ye(()=>{M=!1})},Q=(t="",$=!1)=>{$||(M=!0),d.value=$;let te;Me(t)?te=t.map(pe=>pe.toDate()):te=t&&t.toDate(),ne.value=null,F(te)},re=()=>{s.value=!0},U=()=>{n("visible-change",!0)},ae=t=>{(t==null?void 0:t.key)===ge.esc&&A(!0,!0)},me=()=>{s.value=!1,d.value=!1,M=!1,n("visible-change",!1)},ye=()=>{d.value=!0},H=()=>{d.value=!1},A=(t=!0,$=!1)=>{M=$;const[te,pe]=e(V);let Ee=te;!t&&xe.value&&(Ee=pe),Ee&&Ee.focus()},r=t=>{a.readonly||l.value||d.value||M||(d.value=!0,n("focus",t))};let k;const E=t=>{const $=async()=>{setTimeout(()=>{var te;k===$&&(!((te=y.value)!=null&&te.isFocusInsideContent()&&!x)&&V.value.filter(pe=>pe.contains(document.activeElement)).length===0&&(Je(),d.value=!1,n("blur",t),a.validateEvent&&(O==null||O.validate("blur").catch(pe=>Yt()))),x=!1)},0)};k=$,$()},l=R(()=>a.disabled||(C==null?void 0:C.disabled)),S=R(()=>{let t;if(Se.value?B.value.getDefaultValue&&(t=B.value.getDefaultValue()):Me(a.modelValue)?t=a.modelValue.map($=>Bt($,a.valueFormat,m.value)):t=Bt(a.modelValue,a.valueFormat,m.value),B.value.getRangeAvailableTime){const $=B.value.getRangeAvailableTime(t);Oa($,t)||(t=$,F(Me(t)?t.map(te=>te.toDate()):t.toDate()))}return Me(t)&&t.some($=>!$)&&(t=[]),t}),N=R(()=>{if(!B.value.panelReady)return"";const t=He(S.value);return Me(ne.value)?[ne.value[0]||t&&t[0]||"",ne.value[1]||t&&t[1]||""]:ne.value!==null?ne.value:!ee.value&&Se.value||!d.value&&Se.value?"":t?de.value?t.join(", "):t:""}),J=R(()=>a.type.includes("time")),ee=R(()=>a.type.startsWith("time")),de=R(()=>a.type==="dates"),le=R(()=>a.prefixIcon||(J.value?Sa:Ca)),ue=Z(!1),se=t=>{a.readonly||l.value||ue.value&&(t.stopPropagation(),j(),F(null),L(null,!0),ue.value=!1,d.value=!1,B.value.handleClear&&B.value.handleClear())},Se=R(()=>{const{modelValue:t}=a;return!t||Me(t)&&!t.filter(Boolean).length}),be=async t=>{var $;a.readonly||l.value||((($=t.target)==null?void 0:$.tagName)!=="INPUT"||V.value.includes(document.activeElement))&&(d.value=!0)},$e=()=>{a.readonly||l.value||!Se.value&&a.clearable&&(ue.value=!0)},De=()=>{ue.value=!1},Oe=t=>{var $;a.readonly||l.value||((($=t.touches[0].target)==null?void 0:$.tagName)!=="INPUT"||V.value.includes(document.activeElement))&&(d.value=!0)},xe=R(()=>a.type.includes("range")),Fe=$a(),tt=R(()=>{var t,$;return($=(t=e(y))==null?void 0:t.popperRef)==null?void 0:$.contentRef}),Re=R(()=>{var t;return e(xe)?e(i):(t=e(i))==null?void 0:t.$el});ha(Re,t=>{const $=e(tt),te=e(Re);$&&(t.target===$||t.composedPath().includes($))||t.target===te||t.composedPath().includes(te)||(d.value=!1)});const ne=Z(null),Je=()=>{if(ne.value){const t=Ue(N.value);t&&Ae(t)&&(F(Me(t)?t.map($=>$.toDate()):t.toDate()),ne.value=null)}ne.value===""&&(F(null),L(null),ne.value=null)},Ue=t=>t?B.value.parseUserInput(t):null,He=t=>t?B.value.formatToString(t):null,Ae=t=>B.value.isValidValue(t),Be=async t=>{if(a.readonly||l.value)return;const{code:$}=t;if(G(t),$===ge.esc){d.value===!0&&(d.value=!1,t.preventDefault(),t.stopPropagation());return}if($===ge.down&&(B.value.handleFocusPicker&&(t.preventDefault(),t.stopPropagation()),d.value===!1&&(d.value=!0,await Ye()),B.value.handleFocusPicker)){B.value.handleFocusPicker();return}if($===ge.tab){x=!0;return}if($===ge.enter||$===ge.numpadEnter){(ne.value===null||ne.value===""||Ae(Ue(N.value)))&&(Je(),d.value=!1),t.stopPropagation();return}if(ne.value){t.stopPropagation();return}B.value.handleKeydownInput&&B.value.handleKeydownInput(t)},at=t=>{ne.value=t,d.value||(d.value=!0)},nt=t=>{const $=t.target;ne.value?ne.value=[$.value,ne.value[1]]:ne.value=[$.value,null]},je=t=>{const $=t.target;ne.value?ne.value=[ne.value[0],$.value]:ne.value=[null,$.value]},c=()=>{var t;const $=ne.value,te=Ue($&&$[0]),pe=e(S);if(te&&te.isValid()){ne.value=[He(te),((t=N.value)==null?void 0:t[1])||null];const Ee=[te,pe&&(pe[1]||null)];Ae(Ee)&&(F(Ee),ne.value=null)}},T=()=>{var t;const $=e(ne),te=Ue($&&$[1]),pe=e(S);if(te&&te.isValid()){ne.value=[((t=e(N))==null?void 0:t[0])||null,He(te)];const Ee=[pe&&pe[0],te];Ae(Ee)&&(F(Ee),ne.value=null)}},B=Z({}),Ce=t=>{B.value[t[0]]=t[1],B.value.panelReady=!0},I=t=>{n("calendar-change",t)},Y=(t,$,te)=>{n("panel-change",t,$,te)};return wt("EP_PICKER_BASE",{props:a}),u({focus:A,handleFocusInput:r,handleBlurInput:E,handleOpen:ye,handleClose:H,onPick:Q}),(t,$)=>(_(),we(e(ya),Wt({ref_key:"refPopper",ref:y,visible:d.value,effect:"light",pure:"",trigger:"click"},t.$attrs,{role:"dialog",teleported:"",transition:`${e(b).namespace.value}-zoom-in-top`,"popper-class":[`${e(b).namespace.value}-picker__popper`,t.popperClass],"popper-options":e(D),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:re,onShow:U,onHide:me}),{default:oe(()=>[e(xe)?(_(),z("div",{key:1,ref_key:"inputRef",ref:i,class:h(e(f)),style:It(t.$attrs.style),onClick:r,onMouseenter:$e,onMouseleave:De,onTouchstart:Oe,onKeydown:Be},[e(le)?(_(),we(e(he),{key:0,class:h([e(w).e("icon"),e(g).e("icon")]),onMousedown:We(be,["prevent"]),onTouchstart:Oe},{default:oe(()=>[(_(),we(ft(e(le))))]),_:1},8,["class","onMousedown"])):ve("v-if",!0),K("input",{id:t.id&&t.id[0],autocomplete:"off",name:t.name&&t.name[0],placeholder:t.startPlaceholder,value:e(N)&&e(N)[0],disabled:e(l),readonly:!t.editable||t.readonly,class:h(e(g).b("input")),onMousedown:be,onInput:nt,onChange:c,onFocus:r,onBlur:E},null,42,Ea),it(t.$slots,"range-separator",{},()=>[K("span",{class:h(e(g).b("separator"))},fe(t.rangeSeparator),3)]),K("input",{id:t.id&&t.id[1],autocomplete:"off",name:t.name&&t.name[1],placeholder:t.endPlaceholder,value:e(N)&&e(N)[1],disabled:e(l),readonly:!t.editable||t.readonly,class:h(e(g).b("input")),onMousedown:be,onFocus:r,onBlur:E,onInput:je,onChange:T},null,42,Na),t.clearIcon?(_(),we(e(he),{key:1,class:h(e(P)),onClick:se},{default:oe(()=>[(_(),we(ft(t.clearIcon)))]),_:1},8,["class"])):ve("v-if",!0)],38)):(_(),we(e(Qe),{key:0,id:t.id,ref_key:"inputRef",ref:i,"container-role":"combobox","model-value":e(N),name:t.name,size:e(Fe),disabled:e(l),placeholder:t.placeholder,class:h([e(b).b("editor"),e(b).bm("editor",t.type),t.$attrs.class]),style:It(t.$attrs.style),readonly:!t.editable||t.readonly||e(de)||t.type==="week",label:t.label,tabindex:t.tabindex,"validate-event":!1,onInput:at,onFocus:r,onBlur:E,onKeydown:Be,onChange:Je,onMousedown:be,onMouseenter:$e,onMouseleave:De,onTouchstart:Oe,onClick:$[0]||($[0]=We(()=>{},["stop"]))},{prefix:oe(()=>[e(le)?(_(),we(e(he),{key:0,class:h(e(w).e("icon")),onMousedown:We(be,["prevent"]),onTouchstart:Oe},{default:oe(()=>[(_(),we(ft(e(le))))]),_:1},8,["class","onMousedown"])):ve("v-if",!0)]),suffix:oe(()=>[ue.value&&t.clearIcon?(_(),we(e(he),{key:0,class:h(`${e(w).e("icon")} clear-icon`),onClick:We(se,["stop"])},{default:oe(()=>[(_(),we(ft(t.clearIcon)))]),_:1},8,["class","onClick"])):ve("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:oe(()=>[it(t.$slots,"default",{visible:d.value,actualVisible:s.value,parsedValue:e(S),format:t.format,unlinkPanels:t.unlinkPanels,type:t.type,defaultValue:t.defaultValue,onPick:Q,onSelectRange:X,onSetPickerOption:Ce,onCalendarChange:I,onPanelChange:Y,onKeydown:ae,onMousedown:$[1]||($[1]=We(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var La=Ke(Ba,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const Wa=Pe({...Aa,datetimeRole:String,parsedValue:{type:ce(Object)}}),za=({getAvailableHours:o,getAvailableMinutes:u,getAvailableSeconds:n})=>{const a=(b,w,g,C)=>{const O={hour:o,minute:u,second:n};let D=b;return["hour","minute","second"].forEach(y=>{if(O[y]){let i;const d=O[y];switch(y){case"minute":{i=d(D.hour(),w,C);break}case"second":{i=d(D.hour(),D.minute(),w,C);break}default:{i=d(w,C);break}}if(i!=null&&i.length&&!i.includes(D[y]())){const s=g?0:i.length-1;D=D[y](i[s])}}}),D},p={};return{timePickerOptions:p,getAvailableTime:a,onSetOption:([b,w])=>{p[b]=w}}},kt=o=>{const u=(a,p)=>a||p,n=a=>a!==!0;return o.map(u).filter(n)},Qt=(o,u,n)=>({getHoursList:(b,w)=>gt(24,o&&(()=>o==null?void 0:o(b,w))),getMinutesList:(b,w,g)=>gt(60,u&&(()=>u==null?void 0:u(b,w,g))),getSecondsList:(b,w,g,C)=>gt(60,n&&(()=>n==null?void 0:n(b,w,g,C)))}),Ka=(o,u,n)=>{const{getHoursList:a,getMinutesList:p,getSecondsList:m}=Qt(o,u,n);return{getAvailableHours:(C,O)=>kt(a(C,O)),getAvailableMinutes:(C,O,D)=>kt(p(C,O,D)),getAvailableSeconds:(C,O,D,y)=>kt(m(C,O,D,y))}},Ua=o=>{const u=Z(o.parsedValue);return Ie(()=>o.visible,n=>{n||(u.value=o.parsedValue)}),u},Ha=Pe({role:{type:String,required:!0},spinnerDate:{type:ce(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:ce(String),default:""},...Xt}),ja=["onClick"],qa=["onMouseenter"],Ga=Ve({__name:"basic-time-spinner",props:Ha,emits:["change","select-range","set-option"],setup(o,{emit:u}){const n=o,a=Te("time"),{getHoursList:p,getMinutesList:m,getSecondsList:b}=Qt(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let w=!1;const g=Z(),C=Z(),O=Z(),D=Z(),y={hours:C,minutes:O,seconds:D},i=R(()=>n.showSeconds?At:At.slice(0,2)),d=R(()=>{const{spinnerDate:r}=n,k=r.hour(),E=r.minute(),l=r.second();return{hours:k,minutes:E,seconds:l}}),s=R(()=>{const{hours:r,minutes:k}=e(d);return{hours:p(n.role),minutes:m(r,n.role),seconds:b(r,k,n.role)}}),v=R(()=>{const{hours:r,minutes:k,seconds:E}=e(d);return{hours:bt(r,23),minutes:bt(k,59),seconds:bt(E,59)}}),x=ba(r=>{w=!1,P(r)},200),M=r=>{if(!!!n.amPmMode)return"";const E=n.amPmMode==="A";let l=r<12?" am":" pm";return E&&(l=l.toUpperCase()),l},f=r=>{let k;switch(r){case"hours":k=[0,2];break;case"minutes":k=[3,5];break;case"seconds":k=[6,8];break}const[E,l]=k;u("select-range",E,l),g.value=r},P=r=>{G(r,e(d)[r])},L=()=>{P("hours"),P("minutes"),P("seconds")},F=r=>r.querySelector(`.${a.namespace.value}-scrollbar__wrap`),G=(r,k)=>{if(n.arrowControl)return;const E=e(y[r]);E&&E.$el&&(F(E.$el).scrollTop=Math.max(0,k*V(r)))},V=r=>{const k=e(y[r]),E=k==null?void 0:k.$el.querySelector("li");return E&&Number.parseFloat(ga(E,"height"))||0},X=()=>{Q(1)},j=()=>{Q(-1)},Q=r=>{g.value||f("hours");const k=g.value,E=e(d)[k],l=g.value==="hours"?24:60,S=re(k,E,r,l);U(k,S),G(k,S),Ye(()=>f(k))},re=(r,k,E,l)=>{let S=(k+E+l)%l;const N=e(s)[r];for(;N[S]&&S!==k;)S=(S+E+l)%l;return S},U=(r,k)=>{if(e(s)[r][k])return;const{hours:S,minutes:N,seconds:J}=e(d);let ee;switch(r){case"hours":ee=n.spinnerDate.hour(k).minute(N).second(J);break;case"minutes":ee=n.spinnerDate.hour(S).minute(k).second(J);break;case"seconds":ee=n.spinnerDate.hour(S).minute(N).second(k);break}u("change",ee)},ae=(r,{value:k,disabled:E})=>{E||(U(r,k),f(r),G(r,k))},me=r=>{w=!0,x(r);const k=Math.min(Math.round((F(e(y[r]).$el).scrollTop-(ye(r)*.5-10)/V(r)+3)/V(r)),r==="hours"?23:59);U(r,k)},ye=r=>e(y[r]).$el.offsetHeight,H=()=>{const r=k=>{const E=e(y[k]);E&&E.$el&&(F(E.$el).onscroll=()=>{me(k)})};r("hours"),r("minutes"),r("seconds")};fa(()=>{Ye(()=>{!n.arrowControl&&H(),L(),n.role==="start"&&f("hours")})});const A=(r,k)=>{y[k].value=r};return u("set-option",[`${n.role}_scrollDown`,Q]),u("set-option",[`${n.role}_emitSelectRange`,f]),Ie(()=>n.spinnerDate,()=>{w||L()}),(r,k)=>(_(),z("div",{class:h([e(a).b("spinner"),{"has-seconds":r.showSeconds}])},[r.arrowControl?ve("v-if",!0):(_(!0),z(ke,{key:0},_e(e(i),E=>(_(),we(e(Va),{key:E,ref_for:!0,ref:l=>A(l,E),class:h(e(a).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":e(a).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:l=>f(E),onMousemove:l=>P(E)},{default:oe(()=>[(_(!0),z(ke,null,_e(e(s)[E],(l,S)=>(_(),z("li",{key:S,class:h([e(a).be("spinner","item"),e(a).is("active",S===e(d)[E]),e(a).is("disabled",l)]),onClick:N=>ae(E,{value:S,disabled:l})},[E==="hours"?(_(),z(ke,{key:0},[qe(fe(("0"+(r.amPmMode?S%12||12:S)).slice(-2))+fe(M(S)),1)],64)):(_(),z(ke,{key:1},[qe(fe(("0"+S).slice(-2)),1)],64))],10,ja))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),r.arrowControl?(_(!0),z(ke,{key:1},_e(e(i),E=>(_(),z("div",{key:E,class:h([e(a).be("spinner","wrapper"),e(a).is("arrow")]),onMouseenter:l=>f(E)},[Ne((_(),we(e(he),{class:h(["arrow-up",e(a).be("spinner","arrow")])},{default:oe(()=>[W(e(Ma))]),_:1},8,["class"])),[[e(Rt),j]]),Ne((_(),we(e(he),{class:h(["arrow-down",e(a).be("spinner","arrow")])},{default:oe(()=>[W(e(Pa))]),_:1},8,["class"])),[[e(Rt),X]]),K("ul",{class:h(e(a).be("spinner","list"))},[(_(!0),z(ke,null,_e(e(v)[E],(l,S)=>(_(),z("li",{key:S,class:h([e(a).be("spinner","item"),e(a).is("active",l===e(d)[E]),e(a).is("disabled",e(s)[E][l])])},[typeof l=="number"?(_(),z(ke,{key:0},[E==="hours"?(_(),z(ke,{key:0},[qe(fe(("0"+(r.amPmMode?l%12||12:l)).slice(-2))+fe(M(l)),1)],64)):(_(),z(ke,{key:1},[qe(fe(("0"+l).slice(-2)),1)],64))],64)):ve("v-if",!0)],2))),128))],2)],42,qa))),128)):ve("v-if",!0)],2))}});var Za=Ke(Ga,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const Xa=Ve({__name:"panel-time-pick",props:Wa,emits:["pick","select-range","set-picker-option"],setup(o,{emit:u}){const n=o,a=Ge("EP_PICKER_BASE"),{arrowControl:p,disabledHours:m,disabledMinutes:b,disabledSeconds:w,defaultValue:g}=a.props,{getAvailableHours:C,getAvailableMinutes:O,getAvailableSeconds:D}=Ka(m,b,w),y=Te("time"),{t:i,lang:d}=ze(),s=Z([0,2]),v=Ua(n),x=R(()=>ka(n.actualVisible)?`${y.namespace.value}-zoom-in-top`:""),M=R(()=>n.format.includes("ss")),f=R(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),P=A=>{const r=q(A).locale(d.value),k=ae(r);return r.isSame(k)},L=()=>{u("pick",v.value,!1)},F=(A=!1,r=!1)=>{r||u("pick",n.parsedValue,A)},G=A=>{if(!n.visible)return;const r=ae(A).millisecond(0);u("pick",r,!0)},V=(A,r)=>{u("select-range",A,r),s.value=[A,r]},X=A=>{const r=[0,3].concat(M.value?[6]:[]),k=["hours","minutes"].concat(M.value?["seconds"]:[]),l=(r.indexOf(s.value[0])+A+r.length)%r.length;Q.start_emitSelectRange(k[l])},j=A=>{const r=A.code,{left:k,right:E,up:l,down:S}=ge;if([k,E].includes(r)){X(r===k?-1:1),A.preventDefault();return}if([l,S].includes(r)){const N=r===l?-1:1;Q.start_scrollDown(N),A.preventDefault();return}},{timePickerOptions:Q,onSetOption:re,getAvailableTime:U}=za({getAvailableHours:C,getAvailableMinutes:O,getAvailableSeconds:D}),ae=A=>U(A,n.datetimeRole||"",!0),me=A=>A?q(A,n.format).locale(d.value):null,ye=A=>A?A.format(n.format):null,H=()=>q(g).locale(d.value);return u("set-picker-option",["isValidValue",P]),u("set-picker-option",["formatToString",ye]),u("set-picker-option",["parseUserInput",me]),u("set-picker-option",["handleKeydownInput",j]),u("set-picker-option",["getRangeAvailableTime",ae]),u("set-picker-option",["getDefaultValue",H]),(A,r)=>(_(),we(pa,{name:e(x)},{default:oe(()=>[A.actualVisible||A.visible?(_(),z("div",{key:0,class:h(e(y).b("panel"))},[K("div",{class:h([e(y).be("panel","content"),{"has-seconds":e(M)}])},[W(Za,{ref:"spinner",role:A.datetimeRole||"start","arrow-control":e(p),"show-seconds":e(M),"am-pm-mode":e(f),"spinner-date":A.parsedValue,"disabled-hours":e(m),"disabled-minutes":e(b),"disabled-seconds":e(w),onChange:G,onSetOption:e(re),onSelectRange:V},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),K("div",{class:h(e(y).be("panel","footer"))},[K("button",{type:"button",class:h([e(y).be("panel","btn"),"cancel"]),onClick:L},fe(e(i)("el.datepicker.cancel")),3),K("button",{type:"button",class:h([e(y).be("panel","btn"),"confirm"]),onClick:r[0]||(r[0]=k=>F())},fe(e(i)("el.datepicker.confirm")),3)],2)],2)):ve("v-if",!0)]),_:1},8,["name"]))}});var Mt=Ke(Xa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]),ea={exports:{}};(function(o,u){(function(n,a){o.exports=a()})(Ze,function(){return function(n,a,p){var m=a.prototype,b=function(D){return D&&(D.indexOf?D:D.s)},w=function(D,y,i,d,s){var v=D.name?D:D.$locale(),x=b(v[y]),M=b(v[i]),f=x||M.map(function(L){return L.slice(0,d)});if(!s)return f;var P=v.weekStart;return f.map(function(L,F){return f[(F+(P||0))%7]})},g=function(){return p.Ls[p.locale()]},C=function(D,y){return D.formats[y]||function(i){return i.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(d,s,v){return s||v.slice(1)})}(D.formats[y.toUpperCase()])},O=function(){var D=this;return{months:function(y){return y?y.format("MMMM"):w(D,"months")},monthsShort:function(y){return y?y.format("MMM"):w(D,"monthsShort","months",3)},firstDayOfWeek:function(){return D.$locale().weekStart||0},weekdays:function(y){return y?y.format("dddd"):w(D,"weekdays")},weekdaysMin:function(y){return y?y.format("dd"):w(D,"weekdaysMin","weekdays",2)},weekdaysShort:function(y){return y?y.format("ddd"):w(D,"weekdaysShort","weekdays",3)},longDateFormat:function(y){return C(D.$locale(),y)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};m.localeData=function(){return O.bind(this)()},p.localeData=function(){var D=g();return{firstDayOfWeek:function(){return D.weekStart||0},weekdays:function(){return p.weekdays()},weekdaysShort:function(){return p.weekdaysShort()},weekdaysMin:function(){return p.weekdaysMin()},months:function(){return p.months()},monthsShort:function(){return p.monthsShort()},longDateFormat:function(y){return C(D,y)},meridiem:D.meridiem,ordinal:D.ordinal}},p.months=function(){return w(g(),"months")},p.monthsShort=function(){return w(g(),"monthsShort","months",3)},p.weekdays=function(D){return w(g(),"weekdays",null,null,D)},p.weekdaysShort=function(D){return w(g(),"weekdaysShort","weekdays",3,D)},p.weekdaysMin=function(D){return w(g(),"weekdaysMin","weekdays",2,D)}}})})(ea);var Ja=ea.exports;const Qa=Xe(Ja);var ta={exports:{}};(function(o,u){(function(n,a){o.exports=a()})(Ze,function(){return function(n,a){var p=a.prototype,m=p.format;p.format=function(b){var w=this,g=this.$locale();if(!this.isValid())return m.bind(this)(b);var C=this.$utils(),O=(b||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(D){switch(D){case"Q":return Math.ceil((w.$M+1)/3);case"Do":return g.ordinal(w.$D);case"gggg":return w.weekYear();case"GGGG":return w.isoWeekYear();case"wo":return g.ordinal(w.week(),"W");case"w":case"ww":return C.s(w.week(),D==="w"?1:2,"0");case"W":case"WW":return C.s(w.isoWeek(),D==="W"?1:2,"0");case"k":case"kk":return C.s(String(w.$H===0?24:w.$H),D==="k"?1:2,"0");case"X":return Math.floor(w.$d.getTime()/1e3);case"x":return w.$d.getTime();case"z":return"["+w.offsetName()+"]";case"zzz":return"["+w.offsetName("long")+"]";default:return D}});return m.bind(this)(O)}}})})(ta);var en=ta.exports;const tn=Xe(en);var aa={exports:{}};(function(o,u){(function(n,a){o.exports=a()})(Ze,function(){var n="week",a="year";return function(p,m,b){var w=m.prototype;w.week=function(g){if(g===void 0&&(g=null),g!==null)return this.add(7*(g-this.week()),"day");var C=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var O=b(this).startOf(a).add(1,a).date(C),D=b(this).endOf(n);if(O.isBefore(D))return 1}var y=b(this).startOf(a).date(C).startOf(n).subtract(1,"millisecond"),i=this.diff(y,n,!0);return i<0?b(this).startOf("week").week():Math.ceil(i)},w.weeks=function(g){return g===void 0&&(g=null),this.week(g)}}})})(aa);var an=aa.exports;const nn=Xe(an);var na={exports:{}};(function(o,u){(function(n,a){o.exports=a()})(Ze,function(){return function(n,a){a.prototype.weekYear=function(){var p=this.month(),m=this.week(),b=this.year();return m===1&&p===11?b+1:p===0&&m>=52?b-1:b}}})})(na);var ln=na.exports;const sn=Xe(ln);var la={exports:{}};(function(o,u){(function(n,a){o.exports=a()})(Ze,function(){return function(n,a,p){a.prototype.dayOfYear=function(m){var b=Math.round((p(this).startOf("day")-p(this).startOf("year"))/864e5)+1;return m==null?b:this.add(m-b,"day")}}})})(la);var on=la.exports;const rn=Xe(on);var sa={exports:{}};(function(o,u){(function(n,a){o.exports=a()})(Ze,function(){return function(n,a){a.prototype.isSameOrAfter=function(p,m){return this.isSame(p,m)||this.isAfter(p,m)}}})})(sa);var un=sa.exports;const cn=Xe(un);var oa={exports:{}};(function(o,u){(function(n,a){o.exports=a()})(Ze,function(){return function(n,a){a.prototype.isSameOrBefore=function(p,m){return this.isSame(p,m)||this.isBefore(p,m)}}})})(oa);var dn=oa.exports;const fn=Xe(dn),Vt=Symbol(),pn=Pe({...Jt,type:{type:ce(String),default:"date"}}),vn=["date","dates","year","month","week","range"],Ot=Pe({disabledDate:{type:ce(Function)},date:{type:ce(Object),required:!0},minDate:{type:ce(Object)},maxDate:{type:ce(Object)},parsedValue:{type:ce([Object,Array])},rangeState:{type:ce(Object),default:()=>({endDate:null,selecting:!1})}}),ra=Pe({type:{type:ce(String),required:!0,values:xa}}),ua=Pe({unlinkPanels:Boolean,parsedValue:{type:ce(Array)}}),ia=o=>({type:String,values:vn,default:o}),mn=Pe({...ra,parsedValue:{type:ce([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),hn=Pe({...Ot,cellClassName:{type:ce(Function)},showWeekNumber:Boolean,selectionMode:ia("date")}),Pt=o=>{if(!Me(o))return!1;const[u,n]=o;return q.isDayjs(u)&&q.isDayjs(n)&&u.isSameOrBefore(n)},ca=(o,{lang:u,unit:n,unlinkPanels:a})=>{let p;if(Me(o)){let[m,b]=o.map(w=>q(w).locale(u));return a||(b=m.add(1,n)),[m,b]}else o?p=q(o):p=q();return p=p.locale(u),[p,p.add(1,n)]},yn=(o,u,{columnIndexOffset:n,startDate:a,nextEndDate:p,now:m,unit:b,relativeDateGetter:w,setCellMetadata:g,setRowMetadata:C})=>{for(let O=0;O<o.row;O++){const D=u[O];for(let y=0;y<o.column;y++){let i=D[y+n];i||(i={row:O,column:y,type:"normal",inRange:!1,start:!1,end:!1});const d=O*o.column+y,s=w(d);i.dayjs=s,i.date=s.toDate(),i.timestamp=s.valueOf(),i.type="normal",i.inRange=!!(a&&s.isSameOrAfter(a,b)&&p&&s.isSameOrBefore(p,b))||!!(a&&s.isSameOrBefore(a,b)&&p&&s.isSameOrAfter(p,b)),a!=null&&a.isSameOrAfter(p)?(i.start=!!p&&s.isSame(p,b),i.end=a&&s.isSame(a,b)):(i.start=!!a&&s.isSame(a,b),i.end=!!p&&s.isSame(p,b)),s.isSame(m,b)&&(i.type="today"),g==null||g(i,{rowIndex:O,columnIndex:y}),D[y+n]=i}C==null||C(D)}},bn=Pe({cell:{type:ce(Object)}});var gn=Ve({name:"ElDatePickerCell",props:bn,setup(o){const u=Te("date-table-cell"),{slots:n}=Ge(Vt);return()=>{const{cell:a}=o;if(n.default){const p=n.default(a).filter(m=>m.patchFlag!==-2&&m.type.toString()!=="Symbol(Comment)");if(p.length)return p}return W("div",{class:u.b()},[W("span",{class:u.e("text")},[a==null?void 0:a.text])])}}});const kn=["aria-label","onMousedown"],wn={key:0,scope:"col"},Dn=["aria-label"],Sn=["aria-current","aria-selected","tabindex"],Cn=Ve({__name:"basic-date-table",props:hn,emits:["changerange","pick","select"],setup(o,{expose:u,emit:n}){const a=o,p=Te("date-table"),{t:m,lang:b}=ze(),w=Z(),g=Z(),C=Z(),O=Z(),D=Z([[],[],[],[],[],[]]);let y=!1;const i=a.date.$locale().weekStart||7,d=a.date.locale("en").localeData().weekdaysShort().map(l=>l.toLowerCase()),s=R(()=>i>3?7-i:-i),v=R(()=>{const l=a.date.startOf("month");return l.subtract(l.day()||7,"day")}),x=R(()=>d.concat(d).slice(i,i+7)),M=R(()=>Ta(V.value).some(l=>l.isCurrent)),f=R(()=>{const l=a.date.startOf("month"),S=l.day()||7,N=l.daysInMonth(),J=l.subtract(1,"month").daysInMonth();return{startOfMonthDay:S,dateCountOfMonth:N,dateCountOfLastMonth:J}}),P=R(()=>a.selectionMode==="dates"?et(a.parsedValue):[]),L=(l,{count:S,rowIndex:N,columnIndex:J})=>{const{startOfMonthDay:ee,dateCountOfMonth:de,dateCountOfLastMonth:le}=e(f),ue=e(s);if(N>=0&&N<=1){const se=ee+ue<0?7+ee+ue:ee+ue;if(J+N*7>=se)return l.text=S,!0;l.text=le-(se-J%7)+1+N*7,l.type="prev-month"}else return S<=de?l.text=S:(l.text=S-de,l.type="next-month"),!0;return!1},F=(l,{columnIndex:S,rowIndex:N},J)=>{const{disabledDate:ee,cellClassName:de}=a,le=e(P),ue=L(l,{count:J,rowIndex:N,columnIndex:S}),se=l.dayjs.toDate();return l.selected=le.find(Se=>Se.valueOf()===l.dayjs.valueOf()),l.isSelected=!!l.selected,l.isCurrent=Q(l),l.disabled=ee==null?void 0:ee(se),l.customClass=de==null?void 0:de(se),ue},G=l=>{if(a.selectionMode==="week"){const[S,N]=a.showWeekNumber?[1,7]:[0,6],J=E(l[S+1]);l[S].inRange=J,l[S].start=J,l[N].inRange=J,l[N].end=J}},V=R(()=>{const{minDate:l,maxDate:S,rangeState:N,showWeekNumber:J}=a,ee=s.value,de=D.value,le="day";let ue=1;if(J)for(let se=0;se<6;se++)de[se][0]||(de[se][0]={type:"week",text:v.value.add(se*7+1,le).week()});return yn({row:6,column:7},de,{startDate:l,columnIndexOffset:J?1:0,nextEndDate:N.endDate||S||N.selecting&&l||null,now:q().locale(e(b)).startOf(le),unit:le,relativeDateGetter:se=>v.value.add(se-ee,le),setCellMetadata:(...se)=>{F(...se,ue)&&(ue+=1)},setRowMetadata:G}),de});Ie(()=>a.date,async()=>{var l,S;(l=w.value)!=null&&l.contains(document.activeElement)&&(await Ye(),(S=g.value)==null||S.focus())});const X=async()=>{var l;(l=g.value)==null||l.focus()},j=(l="")=>["normal","today"].includes(l),Q=l=>a.selectionMode==="date"&&j(l.type)&&re(l,a.parsedValue),re=(l,S)=>S?q(S).locale(b.value).isSame(a.date.date(Number(l.text)),"day"):!1,U=l=>{const S=[];return j(l.type)&&!l.disabled?(S.push("available"),l.type==="today"&&S.push("today")):S.push(l.type),Q(l)&&S.push("current"),l.inRange&&(j(l.type)||a.selectionMode==="week")&&(S.push("in-range"),l.start&&S.push("start-date"),l.end&&S.push("end-date")),l.disabled&&S.push("disabled"),l.selected&&S.push("selected"),l.customClass&&S.push(l.customClass),S.join(" ")},ae=(l,S)=>{const N=l*7+(S-(a.showWeekNumber?1:0))-s.value;return v.value.add(N,"day")},me=l=>{var S;if(!a.rangeState.selecting)return;let N=l.target;if(N.tagName==="SPAN"&&(N=(S=N.parentNode)==null?void 0:S.parentNode),N.tagName==="DIV"&&(N=N.parentNode),N.tagName!=="TD")return;const J=N.parentNode.rowIndex-1,ee=N.cellIndex;V.value[J][ee].disabled||(J!==C.value||ee!==O.value)&&(C.value=J,O.value=ee,n("changerange",{selecting:!0,endDate:ae(J,ee)}))},ye=l=>!M.value&&(l==null?void 0:l.text)===1&&l.type==="normal"||l.isCurrent,H=l=>{y||M.value||a.selectionMode!=="date"||k(l,!0)},A=l=>{l.target.closest("td")&&(y=!0)},r=l=>{l.target.closest("td")&&(y=!1)},k=(l,S=!1)=>{const N=l.target.closest("td");if(!N)return;const J=N.parentNode.rowIndex-1,ee=N.cellIndex,de=V.value[J][ee];if(de.disabled||de.type==="week")return;const le=ae(J,ee);if(a.selectionMode==="range")!a.rangeState.selecting||!a.minDate?(n("pick",{minDate:le,maxDate:null}),n("select",!0)):(le>=a.minDate?n("pick",{minDate:a.minDate,maxDate:le}):n("pick",{minDate:le,maxDate:a.minDate}),n("select",!1));else if(a.selectionMode==="date")n("pick",le,S);else if(a.selectionMode==="week"){const ue=le.week(),se=`${le.year()}w${ue}`;n("pick",{year:le.year(),week:ue,value:se,date:le.startOf("week")})}else if(a.selectionMode==="dates"){const ue=de.selected?et(a.parsedValue).filter(se=>(se==null?void 0:se.valueOf())!==le.valueOf()):et(a.parsedValue).concat([le]);n("pick",ue)}},E=l=>{if(a.selectionMode!=="week")return!1;let S=a.date.startOf("day");if(l.type==="prev-month"&&(S=S.subtract(1,"month")),l.type==="next-month"&&(S=S.add(1,"month")),S=S.date(Number.parseInt(l.text,10)),a.parsedValue&&!Array.isArray(a.parsedValue)){const N=(a.parsedValue.day()-i+7)%7-1;return a.parsedValue.subtract(N,"day").isSame(S,"day")}return!1};return u({focus:X}),(l,S)=>(_(),z("table",{role:"grid","aria-label":e(m)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:h([e(p).b(),{"is-week-mode":l.selectionMode==="week"}]),onClick:k,onMousemove:me,onMousedown:We(A,["prevent"]),onMouseup:r},[K("tbody",{ref_key:"tbodyRef",ref:w},[K("tr",null,[l.showWeekNumber?(_(),z("th",wn,fe(e(m)("el.datepicker.week")),1)):ve("v-if",!0),(_(!0),z(ke,null,_e(e(x),(N,J)=>(_(),z("th",{key:J,scope:"col","aria-label":e(m)("el.datepicker.weeksFull."+N)},fe(e(m)("el.datepicker.weeks."+N)),9,Dn))),128))]),(_(!0),z(ke,null,_e(e(V),(N,J)=>(_(),z("tr",{key:J,class:h([e(p).e("row"),{current:E(N[1])}])},[(_(!0),z(ke,null,_e(N,(ee,de)=>(_(),z("td",{key:`${J}.${de}`,ref_for:!0,ref:le=>ye(ee)&&(g.value=le),class:h(U(ee)),"aria-current":ee.isCurrent?"date":void 0,"aria-selected":ee.isCurrent,tabindex:ye(ee)?0:-1,onFocus:H},[W(e(gn),{cell:ee},null,8,["cell"])],42,Sn))),128))],2))),128))],512)],42,kn))}});var _t=Ke(Cn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const Mn=Pe({...Ot,selectionMode:ia("month")}),Pn=["aria-label"],_n=["aria-selected","aria-label","tabindex","onKeydown"],$n={class:"cell"},Tn=Ve({__name:"basic-month-table",props:Mn,emits:["changerange","pick","select"],setup(o,{expose:u,emit:n}){const a=o,p=(P,L,F)=>{const G=q().locale(F).startOf("month").month(L).year(P),V=G.daysInMonth();return qt(V).map(X=>G.add(X,"day").toDate())},m=Te("month-table"),{t:b,lang:w}=ze(),g=Z(),C=Z(),O=Z(a.date.locale("en").localeData().monthsShort().map(P=>P.toLowerCase())),D=Z([[],[],[]]),y=Z(),i=Z(),d=R(()=>{var P,L;const F=D.value,G=q().locale(w.value).startOf("month");for(let V=0;V<3;V++){const X=F[V];for(let j=0;j<4;j++){const Q=X[j]||(X[j]={row:V,column:j,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});Q.type="normal";const re=V*4+j,U=a.date.startOf("year").month(re),ae=a.rangeState.endDate||a.maxDate||a.rangeState.selecting&&a.minDate||null;Q.inRange=!!(a.minDate&&U.isSameOrAfter(a.minDate,"month")&&ae&&U.isSameOrBefore(ae,"month"))||!!(a.minDate&&U.isSameOrBefore(a.minDate,"month")&&ae&&U.isSameOrAfter(ae,"month")),(P=a.minDate)!=null&&P.isSameOrAfter(ae)?(Q.start=!!(ae&&U.isSame(ae,"month")),Q.end=a.minDate&&U.isSame(a.minDate,"month")):(Q.start=!!(a.minDate&&U.isSame(a.minDate,"month")),Q.end=!!(ae&&U.isSame(ae,"month"))),G.isSame(U)&&(Q.type="today"),Q.text=re,Q.disabled=((L=a.disabledDate)==null?void 0:L.call(a,U.toDate()))||!1}}return F}),s=()=>{var P;(P=C.value)==null||P.focus()},v=P=>{const L={},F=a.date.year(),G=new Date,V=P.text;return L.disabled=a.disabledDate?p(F,V,w.value).every(a.disabledDate):!1,L.current=et(a.parsedValue).findIndex(X=>q.isDayjs(X)&&X.year()===F&&X.month()===V)>=0,L.today=G.getFullYear()===F&&G.getMonth()===V,P.inRange&&(L["in-range"]=!0,P.start&&(L["start-date"]=!0),P.end&&(L["end-date"]=!0)),L},x=P=>{const L=a.date.year(),F=P.text;return et(a.date).findIndex(G=>G.year()===L&&G.month()===F)>=0},M=P=>{var L;if(!a.rangeState.selecting)return;let F=P.target;if(F.tagName==="A"&&(F=(L=F.parentNode)==null?void 0:L.parentNode),F.tagName==="DIV"&&(F=F.parentNode),F.tagName!=="TD")return;const G=F.parentNode.rowIndex,V=F.cellIndex;d.value[G][V].disabled||(G!==y.value||V!==i.value)&&(y.value=G,i.value=V,n("changerange",{selecting:!0,endDate:a.date.startOf("year").month(G*4+V)}))},f=P=>{var L;const F=(L=P.target)==null?void 0:L.closest("td");if((F==null?void 0:F.tagName)!=="TD"||Ht(F,"disabled"))return;const G=F.cellIndex,X=F.parentNode.rowIndex*4+G,j=a.date.startOf("year").month(X);a.selectionMode==="range"?a.rangeState.selecting?(a.minDate&&j>=a.minDate?n("pick",{minDate:a.minDate,maxDate:j}):n("pick",{minDate:j,maxDate:a.minDate}),n("select",!1)):(n("pick",{minDate:j,maxDate:null}),n("select",!0)):n("pick",X)};return Ie(()=>a.date,async()=>{var P,L;(P=g.value)!=null&&P.contains(document.activeElement)&&(await Ye(),(L=C.value)==null||L.focus())}),u({focus:s}),(P,L)=>(_(),z("table",{role:"grid","aria-label":e(b)("el.datepicker.monthTablePrompt"),class:h(e(m).b()),onClick:f,onMousemove:M},[K("tbody",{ref_key:"tbodyRef",ref:g},[(_(!0),z(ke,null,_e(e(d),(F,G)=>(_(),z("tr",{key:G},[(_(!0),z(ke,null,_e(F,(V,X)=>(_(),z("td",{key:X,ref_for:!0,ref:j=>x(V)&&(C.value=j),class:h(v(V)),"aria-selected":`${x(V)}`,"aria-label":e(b)(`el.datepicker.month${+V.text+1}`),tabindex:x(V)?0:-1,onKeydown:[ot(We(f,["prevent","stop"]),["space"]),ot(We(f,["prevent","stop"]),["enter"])]},[K("div",null,[K("span",$n,fe(e(b)("el.datepicker.months."+O.value[V.text])),1)])],42,_n))),128))]))),128))],512)],42,Pn))}});var $t=Ke(Tn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:Vn,disabledDate:On,parsedValue:xn}=Ot,In=Pe({date:Vn,disabledDate:On,parsedValue:xn}),Yn=["aria-label"],Rn=["aria-selected","tabindex","onKeydown"],An={class:"cell"},En={key:1},Nn=Ve({__name:"basic-year-table",props:In,emits:["pick"],setup(o,{expose:u,emit:n}){const a=o,p=(s,v)=>{const x=q(String(s)).locale(v).startOf("year"),f=x.endOf("year").dayOfYear();return qt(f).map(P=>x.add(P,"day").toDate())},m=Te("year-table"),{t:b,lang:w}=ze(),g=Z(),C=Z(),O=R(()=>Math.floor(a.date.year()/10)*10),D=()=>{var s;(s=C.value)==null||s.focus()},y=s=>{const v={},x=q().locale(w.value);return v.disabled=a.disabledDate?p(s,w.value).every(a.disabledDate):!1,v.current=et(a.parsedValue).findIndex(M=>M.year()===s)>=0,v.today=x.year()===s,v},i=s=>s===O.value&&a.date.year()<O.value&&a.date.year()>O.value+9||et(a.date).findIndex(v=>v.year()===s)>=0,d=s=>{const x=s.target.closest("td");if(x&&x.textContent){if(Ht(x,"disabled"))return;const M=x.textContent||x.innerText;n("pick",Number(M))}};return Ie(()=>a.date,async()=>{var s,v;(s=g.value)!=null&&s.contains(document.activeElement)&&(await Ye(),(v=C.value)==null||v.focus())}),u({focus:D}),(s,v)=>(_(),z("table",{role:"grid","aria-label":e(b)("el.datepicker.yearTablePrompt"),class:h(e(m).b()),onClick:d},[K("tbody",{ref_key:"tbodyRef",ref:g},[(_(),z(ke,null,_e(3,(x,M)=>K("tr",{key:M},[(_(),z(ke,null,_e(4,(f,P)=>(_(),z(ke,{key:M+"_"+P},[M*4+P<10?(_(),z("td",{key:0,ref_for:!0,ref:L=>i(e(O)+M*4+P)&&(C.value=L),class:h(["available",y(e(O)+M*4+P)]),"aria-selected":`${i(e(O)+M*4+P)}`,tabindex:i(e(O)+M*4+P)?0:-1,onKeydown:[ot(We(d,["prevent","stop"]),["space"]),ot(We(d,["prevent","stop"]),["enter"])]},[K("span",An,fe(e(O)+M*4+P),1)],42,Rn)):(_(),z("td",En))],64))),64))])),64))],512)],10,Yn))}});var Fn=Ke(Nn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const Bn=["onClick"],Ln=["aria-label"],Wn=["aria-label"],zn=["aria-label"],Kn=["aria-label"],Un=Ve({__name:"panel-date-pick",props:mn,emits:["pick","set-picker-option","panel-change"],setup(o,{emit:u}){const n=o,a=(c,T,B)=>!0,p=Te("picker-panel"),m=Te("date-picker"),b=Tt(),w=zt(),{t:g,lang:C}=ze(),O=Ge("EP_PICKER_BASE"),D=Ge(wa),{shortcuts:y,disabledDate:i,cellClassName:d,defaultTime:s,arrowControl:v}=O.props,x=rt(O.props,"defaultValue"),M=Z(),f=Z(q().locale(C.value)),P=Z(!1),L=R(()=>q(s).locale(C.value)),F=R(()=>f.value.month()),G=R(()=>f.value.year()),V=Z([]),X=Z(null),j=Z(null),Q=c=>V.value.length>0?a(c,V.value,n.format||"HH:mm:ss"):!0,re=c=>s&&!be.value&&!P.value?L.value.year(c.year()).month(c.month()).date(c.date()):ee.value?c.millisecond(0):c.startOf("day"),U=(c,...T)=>{if(!c)u("pick",c,...T);else if(Me(c)){const B=c.map(re);u("pick",B,...T)}else u("pick",re(c),...T);X.value=null,j.value=null,P.value=!1},ae=(c,T)=>{if(k.value==="date"){c=c;let B=n.parsedValue?n.parsedValue.year(c.year()).month(c.month()).date(c.date()):c;Q(B)||(B=V.value[0][0].year(c.year()).month(c.month()).date(c.date())),f.value=B,U(B,ee.value||T)}else k.value==="week"?U(c.date):k.value==="dates"&&U(c,!0)},me=c=>{const T=c?"add":"subtract";f.value=f.value[T](1,"month"),je("month")},ye=c=>{const T=f.value,B=c?"add":"subtract";f.value=H.value==="year"?T[B](10,"year"):T[B](1,"year"),je("year")},H=Z("date"),A=R(()=>{const c=g("el.datepicker.year");if(H.value==="year"){const T=Math.floor(G.value/10)*10;return c?`${T} ${c} - ${T+9} ${c}`:`${T} - ${T+9}`}return`${G.value} ${c}`}),r=c=>{const T=Dt(c.value)?c.value():c.value;if(T){U(q(T).locale(C.value));return}c.onClick&&c.onClick({attrs:b,slots:w,emit:u})},k=R(()=>{const{type:c}=n;return["week","month","year","dates"].includes(c)?c:"date"}),E=R(()=>k.value==="date"?H.value:k.value),l=R(()=>!!y.length),S=async c=>{f.value=f.value.startOf("month").month(c),k.value==="month"?U(f.value,!1):(H.value="date",["month","year","date","week"].includes(k.value)&&(U(f.value,!0),await Ye(),Be())),je("month")},N=async c=>{k.value==="year"?(f.value=f.value.startOf("year").year(c),U(f.value,!1)):(f.value=f.value.year(c),H.value="month",["month","year","date","week"].includes(k.value)&&(U(f.value,!0),await Ye(),Be())),je("year")},J=async c=>{H.value=c,await Ye(),Be()},ee=R(()=>n.type==="datetime"||n.type==="datetimerange"),de=R(()=>ee.value||k.value==="dates"),le=()=>{if(k.value==="dates")U(n.parsedValue);else{let c=n.parsedValue;if(!c){const T=q(s).locale(C.value),B=Ae();c=T.year(B.year()).month(B.month()).date(B.date())}f.value=c,U(c)}},ue=()=>{const T=q().locale(C.value).toDate();P.value=!0,(!i||!i(T))&&Q(T)&&(f.value=q().locale(C.value),U(f.value))},se=R(()=>Zt(n.format)),Se=R(()=>Gt(n.format)),be=R(()=>{if(j.value)return j.value;if(!(!n.parsedValue&&!x.value))return(n.parsedValue||f.value).format(se.value)}),$e=R(()=>{if(X.value)return X.value;if(!(!n.parsedValue&&!x.value))return(n.parsedValue||f.value).format(Se.value)}),De=Z(!1),Oe=()=>{De.value=!0},xe=()=>{De.value=!1},Fe=c=>({hour:c.hour(),minute:c.minute(),second:c.second(),year:c.year(),month:c.month(),date:c.date()}),tt=(c,T,B)=>{const{hour:Ce,minute:I,second:Y}=Fe(c),t=n.parsedValue?n.parsedValue.hour(Ce).minute(I).second(Y):c;f.value=t,U(f.value,!0),B||(De.value=T)},Re=c=>{const T=q(c,se.value).locale(C.value);if(T.isValid()&&Q(T)){const{year:B,month:Ce,date:I}=Fe(f.value);f.value=T.year(B).month(Ce).date(I),j.value=null,De.value=!1,U(f.value,!0)}},ne=c=>{const T=q(c,Se.value).locale(C.value);if(T.isValid()){if(i&&i(T.toDate()))return;const{hour:B,minute:Ce,second:I}=Fe(f.value);f.value=T.hour(B).minute(Ce).second(I),X.value=null,U(f.value,!0)}},Je=c=>q.isDayjs(c)&&c.isValid()&&(i?!i(c.toDate()):!0),Ue=c=>k.value==="dates"?c.map(T=>T.format(n.format)):c.format(n.format),He=c=>q(c,n.format).locale(C.value),Ae=()=>{const c=q(x.value).locale(C.value);if(!x.value){const T=L.value;return q().hour(T.hour()).minute(T.minute()).second(T.second()).locale(C.value)}return c},Be=async()=>{var c;["week","month","year","date"].includes(k.value)&&((c=M.value)==null||c.focus(),k.value==="week"&&nt(ge.down))},at=c=>{const{code:T}=c;[ge.up,ge.down,ge.left,ge.right,ge.home,ge.end,ge.pageUp,ge.pageDown].includes(T)&&(nt(T),c.stopPropagation(),c.preventDefault()),[ge.enter,ge.space,ge.numpadEnter].includes(T)&&X.value===null&&j.value===null&&(c.preventDefault(),U(f.value,!1))},nt=c=>{var T;const{up:B,down:Ce,left:I,right:Y,home:t,end:$,pageUp:te,pageDown:pe}=ge,Ee={year:{[B]:-4,[Ce]:4,[I]:-1,[Y]:1,offset:(ie,Le)=>ie.setFullYear(ie.getFullYear()+Le)},month:{[B]:-4,[Ce]:4,[I]:-1,[Y]:1,offset:(ie,Le)=>ie.setMonth(ie.getMonth()+Le)},week:{[B]:-1,[Ce]:1,[I]:-1,[Y]:1,offset:(ie,Le)=>ie.setDate(ie.getDate()+Le*7)},date:{[B]:-7,[Ce]:7,[I]:-1,[Y]:1,[t]:ie=>-ie.getDay(),[$]:ie=>-ie.getDay()+6,[te]:ie=>-new Date(ie.getFullYear(),ie.getMonth(),0).getDate(),[pe]:ie=>new Date(ie.getFullYear(),ie.getMonth()+1,0).getDate(),offset:(ie,Le)=>ie.setDate(ie.getDate()+Le)}},ut=f.value.toDate();for(;Math.abs(f.value.diff(ut,"year",!0))<1;){const ie=Ee[E.value];if(!ie)return;if(ie.offset(ut,Dt(ie[c])?ie[c](ut):(T=ie[c])!=null?T:0),i&&i(ut))break;const Le=q(ut).locale(C.value);f.value=Le,u("pick",Le,!0);break}},je=c=>{u("panel-change",f.value.toDate(),c,H.value)};return Ie(()=>k.value,c=>{if(["month","year"].includes(c)){H.value=c;return}H.value="date"},{immediate:!0}),Ie(()=>H.value,()=>{D==null||D.updatePopper()}),Ie(()=>x.value,c=>{c&&(f.value=Ae())},{immediate:!0}),Ie(()=>n.parsedValue,c=>{if(c){if(k.value==="dates"||Array.isArray(c))return;f.value=c}else f.value=Ae()},{immediate:!0}),u("set-picker-option",["isValidValue",Je]),u("set-picker-option",["formatToString",Ue]),u("set-picker-option",["parseUserInput",He]),u("set-picker-option",["handleFocusPicker",Be]),(c,T)=>(_(),z("div",{class:h([e(p).b(),e(m).b(),{"has-sidebar":c.$slots.sidebar||e(l),"has-time":e(ee)}])},[K("div",{class:h(e(p).e("body-wrapper"))},[it(c.$slots,"sidebar",{class:h(e(p).e("sidebar"))}),e(l)?(_(),z("div",{key:0,class:h(e(p).e("sidebar"))},[(_(!0),z(ke,null,_e(e(y),(B,Ce)=>(_(),z("button",{key:Ce,type:"button",class:h(e(p).e("shortcut")),onClick:I=>r(B)},fe(B.text),11,Bn))),128))],2)):ve("v-if",!0),K("div",{class:h(e(p).e("body"))},[e(ee)?(_(),z("div",{key:0,class:h(e(m).e("time-header"))},[K("span",{class:h(e(m).e("editor-wrap"))},[W(e(Qe),{placeholder:e(g)("el.datepicker.selectDate"),"model-value":e($e),size:"small","validate-event":!1,onInput:T[0]||(T[0]=B=>X.value=B),onChange:ne},null,8,["placeholder","model-value"])],2),Ne((_(),z("span",{class:h(e(m).e("editor-wrap"))},[W(e(Qe),{placeholder:e(g)("el.datepicker.selectTime"),"model-value":e(be),size:"small","validate-event":!1,onFocus:Oe,onInput:T[1]||(T[1]=B=>j.value=B),onChange:Re},null,8,["placeholder","model-value"]),W(e(Mt),{visible:De.value,format:e(se),"time-arrow-control":e(v),"parsed-value":f.value,onPick:tt},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(Ct),xe]])],2)):ve("v-if",!0),Ne(K("div",{class:h([e(m).e("header"),(H.value==="year"||H.value==="month")&&e(m).e("header--bordered")])},[K("span",{class:h(e(m).e("prev-btn"))},[K("button",{type:"button","aria-label":e(g)("el.datepicker.prevYear"),class:h(["d-arrow-left",e(p).e("icon-btn")]),onClick:T[2]||(T[2]=B=>ye(!1))},[W(e(he),null,{default:oe(()=>[W(e(ct))]),_:1})],10,Ln),Ne(K("button",{type:"button","aria-label":e(g)("el.datepicker.prevMonth"),class:h([e(p).e("icon-btn"),"arrow-left"]),onClick:T[3]||(T[3]=B=>me(!1))},[W(e(he),null,{default:oe(()=>[W(e(St))]),_:1})],10,Wn),[[lt,H.value==="date"]])],2),K("span",{role:"button",class:h(e(m).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:T[4]||(T[4]=ot(B=>J("year"),["enter"])),onClick:T[5]||(T[5]=B=>J("year"))},fe(e(A)),35),Ne(K("span",{role:"button","aria-live":"polite",tabindex:"0",class:h([e(m).e("header-label"),{active:H.value==="month"}]),onKeydown:T[6]||(T[6]=ot(B=>J("month"),["enter"])),onClick:T[7]||(T[7]=B=>J("month"))},fe(e(g)(`el.datepicker.month${e(F)+1}`)),35),[[lt,H.value==="date"]]),K("span",{class:h(e(m).e("next-btn"))},[Ne(K("button",{type:"button","aria-label":e(g)("el.datepicker.nextMonth"),class:h([e(p).e("icon-btn"),"arrow-right"]),onClick:T[8]||(T[8]=B=>me(!0))},[W(e(he),null,{default:oe(()=>[W(e(mt))]),_:1})],10,zn),[[lt,H.value==="date"]]),K("button",{type:"button","aria-label":e(g)("el.datepicker.nextYear"),class:h([e(p).e("icon-btn"),"d-arrow-right"]),onClick:T[9]||(T[9]=B=>ye(!0))},[W(e(he),null,{default:oe(()=>[W(e(dt))]),_:1})],10,Kn)],2)],2),[[lt,H.value!=="time"]]),K("div",{class:h(e(p).e("content")),onKeydown:at},[H.value==="date"?(_(),we(_t,{key:0,ref_key:"currentViewRef",ref:M,"selection-mode":e(k),date:f.value,"parsed-value":c.parsedValue,"disabled-date":e(i),"cell-class-name":e(d),onPick:ae},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):ve("v-if",!0),H.value==="year"?(_(),we(Fn,{key:1,ref_key:"currentViewRef",ref:M,date:f.value,"disabled-date":e(i),"parsed-value":c.parsedValue,onPick:N},null,8,["date","disabled-date","parsed-value"])):ve("v-if",!0),H.value==="month"?(_(),we($t,{key:2,ref_key:"currentViewRef",ref:M,date:f.value,"parsed-value":c.parsedValue,"disabled-date":e(i),onPick:S},null,8,["date","parsed-value","disabled-date"])):ve("v-if",!0)],34)],2)],2),Ne(K("div",{class:h(e(p).e("footer"))},[Ne(W(e(yt),{text:"",size:"small",class:h(e(p).e("link-btn")),onClick:ue},{default:oe(()=>[qe(fe(e(g)("el.datepicker.now")),1)]),_:1},8,["class"]),[[lt,e(k)!=="dates"]]),W(e(yt),{plain:"",size:"small",class:h(e(p).e("link-btn")),onClick:le},{default:oe(()=>[qe(fe(e(g)("el.datepicker.confirm")),1)]),_:1},8,["class"])],2),[[lt,e(de)&&H.value==="date"]])],2))}});var Hn=Ke(Un,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const jn=Pe({...ra,...ua}),qn=o=>{const{emit:u}=Kt(),n=Tt(),a=zt();return m=>{const b=Dt(m.value)?m.value():m.value;if(b){u("pick",[q(b[0]).locale(o.value),q(b[1]).locale(o.value)]);return}m.onClick&&m.onClick({attrs:n,slots:a,emit:u})}},da=(o,{defaultValue:u,leftDate:n,rightDate:a,unit:p,onParsedValueChanged:m})=>{const{emit:b}=Kt(),{pickerNs:w}=Ge(Vt),g=Te("date-range-picker"),{t:C,lang:O}=ze(),D=qn(O),y=Z(),i=Z(),d=Z({endDate:null,selecting:!1}),s=f=>{d.value=f},v=(f=!1)=>{const P=e(y),L=e(i);Pt([P,L])&&b("pick",[P,L],f)},x=f=>{d.value.selecting=f,f||(d.value.endDate=null)},M=()=>{const[f,P]=ca(e(u),{lang:e(O),unit:p,unlinkPanels:o.unlinkPanels});y.value=void 0,i.value=void 0,n.value=f,a.value=P};return Ie(u,f=>{f&&M()},{immediate:!0}),Ie(()=>o.parsedValue,f=>{if(Me(f)&&f.length===2){const[P,L]=f;y.value=P,n.value=P,i.value=L,m(e(y),e(i))}else M()},{immediate:!0}),{minDate:y,maxDate:i,rangeState:d,lang:O,ppNs:w,drpNs:g,handleChangeRange:s,handleRangeConfirm:v,handleShortcutClick:D,onSelect:x,t:C}},Gn=["onClick"],Zn=["disabled"],Xn=["disabled"],Jn=["disabled"],Qn=["disabled"],pt="month",el=Ve({__name:"panel-date-range",props:jn,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(o,{emit:u}){const n=o,a=Ge("EP_PICKER_BASE"),{disabledDate:p,cellClassName:m,format:b,defaultTime:w,arrowControl:g,clearable:C}=a.props,O=rt(a.props,"shortcuts"),D=rt(a.props,"defaultValue"),{lang:y}=ze(),i=Z(q().locale(y.value)),d=Z(q().locale(y.value).add(1,pt)),{minDate:s,maxDate:v,rangeState:x,ppNs:M,drpNs:f,handleChangeRange:P,handleRangeConfirm:L,handleShortcutClick:F,onSelect:G,t:V}=da(n,{defaultValue:D,leftDate:i,rightDate:d,unit:pt,onParsedValueChanged:Ce}),X=Z({min:null,max:null}),j=Z({min:null,max:null}),Q=R(()=>`${i.value.year()} ${V("el.datepicker.year")} ${V(`el.datepicker.month${i.value.month()+1}`)}`),re=R(()=>`${d.value.year()} ${V("el.datepicker.year")} ${V(`el.datepicker.month${d.value.month()+1}`)}`),U=R(()=>i.value.year()),ae=R(()=>i.value.month()),me=R(()=>d.value.year()),ye=R(()=>d.value.month()),H=R(()=>!!O.value.length),A=R(()=>X.value.min!==null?X.value.min:s.value?s.value.format(S.value):""),r=R(()=>X.value.max!==null?X.value.max:v.value||s.value?(v.value||s.value).format(S.value):""),k=R(()=>j.value.min!==null?j.value.min:s.value?s.value.format(l.value):""),E=R(()=>j.value.max!==null?j.value.max:v.value||s.value?(v.value||s.value).format(l.value):""),l=R(()=>Zt(b)),S=R(()=>Gt(b)),N=()=>{i.value=i.value.subtract(1,"year"),n.unlinkPanels||(d.value=i.value.add(1,"month")),be("year")},J=()=>{i.value=i.value.subtract(1,"month"),n.unlinkPanels||(d.value=i.value.add(1,"month")),be("month")},ee=()=>{n.unlinkPanels?d.value=d.value.add(1,"year"):(i.value=i.value.add(1,"year"),d.value=i.value.add(1,"month")),be("year")},de=()=>{n.unlinkPanels?d.value=d.value.add(1,"month"):(i.value=i.value.add(1,"month"),d.value=i.value.add(1,"month")),be("month")},le=()=>{i.value=i.value.add(1,"year"),be("year")},ue=()=>{i.value=i.value.add(1,"month"),be("month")},se=()=>{d.value=d.value.subtract(1,"year"),be("year")},Se=()=>{d.value=d.value.subtract(1,"month"),be("month")},be=I=>{u("panel-change",[i.value.toDate(),d.value.toDate()],I)},$e=R(()=>{const I=(ae.value+1)%12,Y=ae.value+1>=12?1:0;return n.unlinkPanels&&new Date(U.value+Y,I)<new Date(me.value,ye.value)}),De=R(()=>n.unlinkPanels&&me.value*12+ye.value-(U.value*12+ae.value+1)>=12),Oe=R(()=>!(s.value&&v.value&&!x.value.selecting&&Pt([s.value,v.value]))),xe=R(()=>n.type==="datetime"||n.type==="datetimerange"),Fe=(I,Y)=>{if(I)return w?q(w[Y]||w).locale(y.value).year(I.year()).month(I.month()).date(I.date()):I},tt=(I,Y=!0)=>{const t=I.minDate,$=I.maxDate,te=Fe(t,0),pe=Fe($,1);v.value===pe&&s.value===te||(u("calendar-change",[t.toDate(),$&&$.toDate()]),v.value=pe,s.value=te,!(!Y||xe.value)&&L())},Re=Z(!1),ne=Z(!1),Je=()=>{Re.value=!1},Ue=()=>{ne.value=!1},He=(I,Y)=>{X.value[Y]=I;const t=q(I,S.value).locale(y.value);if(t.isValid()){if(p&&p(t.toDate()))return;Y==="min"?(i.value=t,s.value=(s.value||i.value).year(t.year()).month(t.month()).date(t.date()),!n.unlinkPanels&&(!v.value||v.value.isBefore(s.value))&&(d.value=t.add(1,"month"),v.value=s.value.add(1,"month"))):(d.value=t,v.value=(v.value||d.value).year(t.year()).month(t.month()).date(t.date()),!n.unlinkPanels&&(!s.value||s.value.isAfter(v.value))&&(i.value=t.subtract(1,"month"),s.value=v.value.subtract(1,"month")))}},Ae=(I,Y)=>{X.value[Y]=null},Be=(I,Y)=>{j.value[Y]=I;const t=q(I,l.value).locale(y.value);t.isValid()&&(Y==="min"?(Re.value=!0,s.value=(s.value||i.value).hour(t.hour()).minute(t.minute()).second(t.second()),(!v.value||v.value.isBefore(s.value))&&(v.value=s.value)):(ne.value=!0,v.value=(v.value||d.value).hour(t.hour()).minute(t.minute()).second(t.second()),d.value=v.value,v.value&&v.value.isBefore(s.value)&&(s.value=v.value)))},at=(I,Y)=>{j.value[Y]=null,Y==="min"?(i.value=s.value,Re.value=!1):(d.value=v.value,ne.value=!1)},nt=(I,Y,t)=>{j.value.min||(I&&(i.value=I,s.value=(s.value||i.value).hour(I.hour()).minute(I.minute()).second(I.second())),t||(Re.value=Y),(!v.value||v.value.isBefore(s.value))&&(v.value=s.value,d.value=I))},je=(I,Y,t)=>{j.value.max||(I&&(d.value=I,v.value=(v.value||d.value).hour(I.hour()).minute(I.minute()).second(I.second())),t||(ne.value=Y),v.value&&v.value.isBefore(s.value)&&(s.value=v.value))},c=()=>{i.value=ca(e(D),{lang:e(y),unit:"month",unlinkPanels:n.unlinkPanels})[0],d.value=i.value.add(1,"month"),u("pick",null)},T=I=>Me(I)?I.map(Y=>Y.format(b)):I.format(b),B=I=>Me(I)?I.map(Y=>q(Y,b).locale(y.value)):q(I,b).locale(y.value);function Ce(I,Y){if(n.unlinkPanels&&Y){const t=(I==null?void 0:I.year())||0,$=(I==null?void 0:I.month())||0,te=Y.year(),pe=Y.month();d.value=t===te&&$===pe?Y.add(1,pt):Y}else d.value=i.value.add(1,pt),Y&&(d.value=d.value.hour(Y.hour()).minute(Y.minute()).second(Y.second()))}return u("set-picker-option",["isValidValue",Pt]),u("set-picker-option",["parseUserInput",B]),u("set-picker-option",["formatToString",T]),u("set-picker-option",["handleClear",c]),(I,Y)=>(_(),z("div",{class:h([e(M).b(),e(f).b(),{"has-sidebar":I.$slots.sidebar||e(H),"has-time":e(xe)}])},[K("div",{class:h(e(M).e("body-wrapper"))},[it(I.$slots,"sidebar",{class:h(e(M).e("sidebar"))}),e(H)?(_(),z("div",{key:0,class:h(e(M).e("sidebar"))},[(_(!0),z(ke,null,_e(e(O),(t,$)=>(_(),z("button",{key:$,type:"button",class:h(e(M).e("shortcut")),onClick:te=>e(F)(t)},fe(t.text),11,Gn))),128))],2)):ve("v-if",!0),K("div",{class:h(e(M).e("body"))},[e(xe)?(_(),z("div",{key:0,class:h(e(f).e("time-header"))},[K("span",{class:h(e(f).e("editors-wrap"))},[K("span",{class:h(e(f).e("time-picker-wrap"))},[W(e(Qe),{size:"small",disabled:e(x).selecting,placeholder:e(V)("el.datepicker.startDate"),class:h(e(f).e("editor")),"model-value":e(A),"validate-event":!1,onInput:Y[0]||(Y[0]=t=>He(t,"min")),onChange:Y[1]||(Y[1]=t=>Ae(t,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),Ne((_(),z("span",{class:h(e(f).e("time-picker-wrap"))},[W(e(Qe),{size:"small",class:h(e(f).e("editor")),disabled:e(x).selecting,placeholder:e(V)("el.datepicker.startTime"),"model-value":e(k),"validate-event":!1,onFocus:Y[2]||(Y[2]=t=>Re.value=!0),onInput:Y[3]||(Y[3]=t=>Be(t,"min")),onChange:Y[4]||(Y[4]=t=>at(t,"min"))},null,8,["class","disabled","placeholder","model-value"]),W(e(Mt),{visible:Re.value,format:e(l),"datetime-role":"start","time-arrow-control":e(g),"parsed-value":i.value,onPick:nt},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(Ct),Je]])],2),K("span",null,[W(e(he),null,{default:oe(()=>[W(e(mt))]),_:1})]),K("span",{class:h([e(f).e("editors-wrap"),"is-right"])},[K("span",{class:h(e(f).e("time-picker-wrap"))},[W(e(Qe),{size:"small",class:h(e(f).e("editor")),disabled:e(x).selecting,placeholder:e(V)("el.datepicker.endDate"),"model-value":e(r),readonly:!e(s),"validate-event":!1,onInput:Y[5]||(Y[5]=t=>He(t,"max")),onChange:Y[6]||(Y[6]=t=>Ae(t,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Ne((_(),z("span",{class:h(e(f).e("time-picker-wrap"))},[W(e(Qe),{size:"small",class:h(e(f).e("editor")),disabled:e(x).selecting,placeholder:e(V)("el.datepicker.endTime"),"model-value":e(E),readonly:!e(s),"validate-event":!1,onFocus:Y[7]||(Y[7]=t=>e(s)&&(ne.value=!0)),onInput:Y[8]||(Y[8]=t=>Be(t,"max")),onChange:Y[9]||(Y[9]=t=>at(t,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),W(e(Mt),{"datetime-role":"end",visible:ne.value,format:e(l),"time-arrow-control":e(g),"parsed-value":d.value,onPick:je},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(Ct),Ue]])],2)],2)):ve("v-if",!0),K("div",{class:h([[e(M).e("content"),e(f).e("content")],"is-left"])},[K("div",{class:h(e(f).e("header"))},[K("button",{type:"button",class:h([e(M).e("icon-btn"),"d-arrow-left"]),onClick:N},[W(e(he),null,{default:oe(()=>[W(e(ct))]),_:1})],2),K("button",{type:"button",class:h([e(M).e("icon-btn"),"arrow-left"]),onClick:J},[W(e(he),null,{default:oe(()=>[W(e(St))]),_:1})],2),I.unlinkPanels?(_(),z("button",{key:0,type:"button",disabled:!e(De),class:h([[e(M).e("icon-btn"),{"is-disabled":!e(De)}],"d-arrow-right"]),onClick:le},[W(e(he),null,{default:oe(()=>[W(e(dt))]),_:1})],10,Zn)):ve("v-if",!0),I.unlinkPanels?(_(),z("button",{key:1,type:"button",disabled:!e($e),class:h([[e(M).e("icon-btn"),{"is-disabled":!e($e)}],"arrow-right"]),onClick:ue},[W(e(he),null,{default:oe(()=>[W(e(mt))]),_:1})],10,Xn)):ve("v-if",!0),K("div",null,fe(e(Q)),1)],2),W(_t,{"selection-mode":"range",date:i.value,"min-date":e(s),"max-date":e(v),"range-state":e(x),"disabled-date":e(p),"cell-class-name":e(m),onChangerange:e(P),onPick:tt,onSelect:e(G)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),K("div",{class:h([[e(M).e("content"),e(f).e("content")],"is-right"])},[K("div",{class:h(e(f).e("header"))},[I.unlinkPanels?(_(),z("button",{key:0,type:"button",disabled:!e(De),class:h([[e(M).e("icon-btn"),{"is-disabled":!e(De)}],"d-arrow-left"]),onClick:se},[W(e(he),null,{default:oe(()=>[W(e(ct))]),_:1})],10,Jn)):ve("v-if",!0),I.unlinkPanels?(_(),z("button",{key:1,type:"button",disabled:!e($e),class:h([[e(M).e("icon-btn"),{"is-disabled":!e($e)}],"arrow-left"]),onClick:Se},[W(e(he),null,{default:oe(()=>[W(e(St))]),_:1})],10,Qn)):ve("v-if",!0),K("button",{type:"button",class:h([e(M).e("icon-btn"),"d-arrow-right"]),onClick:ee},[W(e(he),null,{default:oe(()=>[W(e(dt))]),_:1})],2),K("button",{type:"button",class:h([e(M).e("icon-btn"),"arrow-right"]),onClick:de},[W(e(he),null,{default:oe(()=>[W(e(mt))]),_:1})],2),K("div",null,fe(e(re)),1)],2),W(_t,{"selection-mode":"range",date:d.value,"min-date":e(s),"max-date":e(v),"range-state":e(x),"disabled-date":e(p),"cell-class-name":e(m),onChangerange:e(P),onPick:tt,onSelect:e(G)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),e(xe)?(_(),z("div",{key:0,class:h(e(M).e("footer"))},[e(C)?(_(),we(e(yt),{key:0,text:"",size:"small",class:h(e(M).e("link-btn")),onClick:c},{default:oe(()=>[qe(fe(e(V)("el.datepicker.clear")),1)]),_:1},8,["class"])):ve("v-if",!0),W(e(yt),{plain:"",size:"small",class:h(e(M).e("link-btn")),disabled:e(Oe),onClick:Y[10]||(Y[10]=t=>e(L)(!1))},{default:oe(()=>[qe(fe(e(V)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):ve("v-if",!0)],2))}});var tl=Ke(el,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const al=Pe({...ua}),nl=["pick","set-picker-option"],ll=({unlinkPanels:o,leftDate:u,rightDate:n})=>{const{t:a}=ze(),p=()=>{u.value=u.value.subtract(1,"year"),o.value||(n.value=n.value.subtract(1,"year"))},m=()=>{o.value||(u.value=u.value.add(1,"year")),n.value=n.value.add(1,"year")},b=()=>{u.value=u.value.add(1,"year")},w=()=>{n.value=n.value.subtract(1,"year")},g=R(()=>`${u.value.year()} ${a("el.datepicker.year")}`),C=R(()=>`${n.value.year()} ${a("el.datepicker.year")}`),O=R(()=>u.value.year()),D=R(()=>n.value.year()===u.value.year()?u.value.year()+1:n.value.year());return{leftPrevYear:p,rightNextYear:m,leftNextYear:b,rightPrevYear:w,leftLabel:g,rightLabel:C,leftYear:O,rightYear:D}},sl=["onClick"],ol=["disabled"],rl=["disabled"],vt="year",ul=Ve({name:"DatePickerMonthRange"}),il=Ve({...ul,props:al,emits:nl,setup(o,{emit:u}){const n=o,{lang:a}=ze(),p=Ge("EP_PICKER_BASE"),{shortcuts:m,disabledDate:b,format:w}=p.props,g=rt(p.props,"defaultValue"),C=Z(q().locale(a.value)),O=Z(q().locale(a.value).add(1,vt)),{minDate:D,maxDate:y,rangeState:i,ppNs:d,drpNs:s,handleChangeRange:v,handleRangeConfirm:x,handleShortcutClick:M,onSelect:f}=da(n,{defaultValue:g,leftDate:C,rightDate:O,unit:vt,onParsedValueChanged:ye}),P=R(()=>!!m.length),{leftPrevYear:L,rightNextYear:F,leftNextYear:G,rightPrevYear:V,leftLabel:X,rightLabel:j,leftYear:Q,rightYear:re}=ll({unlinkPanels:rt(n,"unlinkPanels"),leftDate:C,rightDate:O}),U=R(()=>n.unlinkPanels&&re.value>Q.value+1),ae=(H,A=!0)=>{const r=H.minDate,k=H.maxDate;y.value===k&&D.value===r||(y.value=k,D.value=r,A&&x())},me=H=>H.map(A=>A.format(w));function ye(H,A){if(n.unlinkPanels&&A){const r=(H==null?void 0:H.year())||0,k=A.year();O.value=r===k?A.add(1,vt):A}else O.value=C.value.add(1,vt)}return u("set-picker-option",["formatToString",me]),(H,A)=>(_(),z("div",{class:h([e(d).b(),e(s).b(),{"has-sidebar":!!H.$slots.sidebar||e(P)}])},[K("div",{class:h(e(d).e("body-wrapper"))},[it(H.$slots,"sidebar",{class:h(e(d).e("sidebar"))}),e(P)?(_(),z("div",{key:0,class:h(e(d).e("sidebar"))},[(_(!0),z(ke,null,_e(e(m),(r,k)=>(_(),z("button",{key:k,type:"button",class:h(e(d).e("shortcut")),onClick:E=>e(M)(r)},fe(r.text),11,sl))),128))],2)):ve("v-if",!0),K("div",{class:h(e(d).e("body"))},[K("div",{class:h([[e(d).e("content"),e(s).e("content")],"is-left"])},[K("div",{class:h(e(s).e("header"))},[K("button",{type:"button",class:h([e(d).e("icon-btn"),"d-arrow-left"]),onClick:A[0]||(A[0]=(...r)=>e(L)&&e(L)(...r))},[W(e(he),null,{default:oe(()=>[W(e(ct))]),_:1})],2),H.unlinkPanels?(_(),z("button",{key:0,type:"button",disabled:!e(U),class:h([[e(d).e("icon-btn"),{[e(d).is("disabled")]:!e(U)}],"d-arrow-right"]),onClick:A[1]||(A[1]=(...r)=>e(G)&&e(G)(...r))},[W(e(he),null,{default:oe(()=>[W(e(dt))]),_:1})],10,ol)):ve("v-if",!0),K("div",null,fe(e(X)),1)],2),W($t,{"selection-mode":"range",date:C.value,"min-date":e(D),"max-date":e(y),"range-state":e(i),"disabled-date":e(b),onChangerange:e(v),onPick:ae,onSelect:e(f)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),K("div",{class:h([[e(d).e("content"),e(s).e("content")],"is-right"])},[K("div",{class:h(e(s).e("header"))},[H.unlinkPanels?(_(),z("button",{key:0,type:"button",disabled:!e(U),class:h([[e(d).e("icon-btn"),{"is-disabled":!e(U)}],"d-arrow-left"]),onClick:A[2]||(A[2]=(...r)=>e(V)&&e(V)(...r))},[W(e(he),null,{default:oe(()=>[W(e(ct))]),_:1})],10,rl)):ve("v-if",!0),K("button",{type:"button",class:h([e(d).e("icon-btn"),"d-arrow-right"]),onClick:A[3]||(A[3]=(...r)=>e(F)&&e(F)(...r))},[W(e(he),null,{default:oe(()=>[W(e(dt))]),_:1})],2),K("div",null,fe(e(j)),1)],2),W($t,{"selection-mode":"range",date:O.value,"min-date":e(D),"max-date":e(y),"range-state":e(i),"disabled-date":e(b),onChangerange:e(v),onPick:ae,onSelect:e(f)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var cl=Ke(il,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const dl=function(o){switch(o){case"daterange":case"datetimerange":return tl;case"monthrange":return cl;default:return Hn}};q.extend(Qa);q.extend(tn);q.extend(Ya);q.extend(nn);q.extend(sn);q.extend(rn);q.extend(cn);q.extend(fn);var fl=Ve({name:"ElDatePicker",install:null,props:pn,emits:["update:modelValue"],setup(o,{expose:u,emit:n,slots:a}){const p=Te("picker-panel");wt("ElPopperOptions",va(rt(o,"popperOptions"))),wt(Vt,{slots:a,pickerNs:p});const m=Z();u({focus:(g=!0)=>{var C;(C=m.value)==null||C.focus(g)},handleOpen:()=>{var g;(g=m.value)==null||g.handleOpen()},handleClose:()=>{var g;(g=m.value)==null||g.handleClose()}});const w=g=>{n("update:modelValue",g)};return()=>{var g;const C=(g=o.format)!=null?g:Ra[o.type]||st,O=dl(o.type);return W(La,Wt(o,{format:C,type:o.type,ref:m,"onUpdate:modelValue":w}),{default:D=>W(O,D,null),"range-separator":a["range-separator"]})}}});const ht=fl;ht.install=o=>{o.component(ht.name,ht)};const Ml=ht;export{La as C,Et as D,Ml as E,Za as T,za as a,Ka as b,Ya as c,Jt as d,Mt as e,Cl as f,et as g,Aa as t,Ua as u};
